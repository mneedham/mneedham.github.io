<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ruby on Mark Needham</title>
    <link>https://www.markhneedham.com/blog/tag/ruby/</link>
    <description>Recent content in ruby on Mark Needham</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 13 Mar 2018 21:57:14 +0000</lastBuildDate><atom:link href="https://www.markhneedham.com/blog/tag/ruby/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Running asciidoctor-pdf on TeamCity</title>
      <link>https://www.markhneedham.com/blog/2018/03/13/running-asciidoctor-pdf-teamcity/</link>
      <pubDate>Tue, 13 Mar 2018 21:57:14 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2018/03/13/running-asciidoctor-pdf-teamcity/</guid>
      <description>I’ve been using asciidoctor-pdf to generate PDF and while I was initially running the tool locally I eventually decided to setup a build on TeamCity.
It was a bit trickier than I expected, mostly because I’m not that familiar with deploying Ruby applications, but I thought I’d capture what I’ve done for future me.
I have the following Gemfile that installs asciidoctor-pdf and its dependencies:
Gemfile
source &amp;#39;https://rubygems.org&amp;#39; gem &amp;#39;prawn&amp;#39; gem &amp;#39;addressable&amp;#39; gem &amp;#39;prawn-svg&amp;#39; gem &amp;#39;prawn-templates&amp;#39; gem &amp;#39;asciidoctor-pdf&amp;#39; I don’t have permissions to install gems globally on the build agents so I’m bundling those up into the vendor directory.</description>
    </item>
    
    <item>
      <title>Ruby: Create and share Google Drive Spreadsheet</title>
      <link>https://www.markhneedham.com/blog/2014/08/17/ruby-create-and-share-google-drive-spreadsheet/</link>
      <pubDate>Sun, 17 Aug 2014 21:42:24 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2014/08/17/ruby-create-and-share-google-drive-spreadsheet/</guid>
      <description>Over the weekend I’ve been trying to write some code to help me create and share a Google Drive spreadsheet and for the first bit Ihttp://www.markhneedham.com/blog/2014/08/17/ruby-google-drive-errorbadauthentication-googledriveauthenticationerror-infoinvalidsecondfactor/[started out with the Google Drive gem].
This worked reasonably well but that gem doesn’t have an API for changing the permissions on a document so I ended up using the google-api-client gem for that bit.
This tutorial provides a good quick start for getting up and running but it still has a manual step to copy/paste the &amp;#39;OAuth token&amp;#39; which I wanted to get rid of.</description>
    </item>
    
    <item>
      <title>Ruby: Receive JSON in request body</title>
      <link>https://www.markhneedham.com/blog/2014/08/17/ruby-receive-json-in-request-body/</link>
      <pubDate>Sun, 17 Aug 2014 12:21:15 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2014/08/17/ruby-receive-json-in-request-body/</guid>
      <description>I’ve been building a little Sinatra app to play around with the Google Drive API and one thing I struggled with was processing JSON posted in the request body.
I came across a few posts which suggested that the request body would be available as params or request but after trying several ways of sending a POST request that doesn’t seem to be the case.
I eventually came across this StackOverflow post which shows how to do it:</description>
    </item>
    
    <item>
      <title>Ruby: Google Drive - Error=BadAuthentication (GoogleDrive::AuthenticationError) Info=InvalidSecondFactor</title>
      <link>https://www.markhneedham.com/blog/2014/08/17/ruby-google-drive-errorbadauthentication-googledriveauthenticationerror-infoinvalidsecondfactor/</link>
      <pubDate>Sun, 17 Aug 2014 01:49:10 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2014/08/17/ruby-google-drive-errorbadauthentication-googledriveauthenticationerror-infoinvalidsecondfactor/</guid>
      <description>I’ve been using the Google Drive gem to try and interact with my Google Drive account and almost immediately ran into problems trying to login.
I started out with the following code:
require &amp;#34;rubygems&amp;#34; require &amp;#34;google_drive&amp;#34; session = GoogleDrive.login(&amp;#34;me@mydomain.com&amp;#34;, &amp;#34;mypassword&amp;#34;) I’ll move it to use OAuth when I put it into my application but for spiking this approach works. Unfortunately I got the following error when running the script:</description>
    </item>
    
    <item>
      <title>Ruby: Regex - Matching the Trademark ™ character</title>
      <link>https://www.markhneedham.com/blog/2014/06/08/ruby-regex-matching-the-trademark-character/</link>
      <pubDate>Sun, 08 Jun 2014 01:34:03 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2014/06/08/ruby-regex-matching-the-trademark-character/</guid>
      <description>I’ve been playing around with some World Cup data and while cleaning up the data I wanted to strip out the year and host country for a world cup.
I started with a string like this which I was reading from a file:
1930 FIFA World Cup Uruguay ™ And I wanted to be able to extract just the &amp;#39;Uruguay&amp;#39; bit without getting the trademark or the space preceding it.</description>
    </item>
    
    <item>
      <title>Ruby: Calculating the orthodromic distance using the Haversine formula</title>
      <link>https://www.markhneedham.com/blog/2013/06/30/ruby-calculating-the-orthodromic-distance-using-the-haversine-formula/</link>
      <pubDate>Sun, 30 Jun 2013 22:53:14 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2013/06/30/ruby-calculating-the-orthodromic-distance-using-the-haversine-formula/</guid>
      <description>As part of the UI I’m building around my football stadiums data set I wanted to calculate the distance from a football stadium to a point on the map in Ruby since cypher doesn’t currently return this value.
I had the following cypher query to return the football stadiums near Westminster along with their lat/long values:
lat, long, distance = [&amp;#34;51.55786291569685&amp;#34;, &amp;#34;0.144195556640625&amp;#34;, 10] query = &amp;#34; START node = node:geom(&amp;#39;withinDistance:[#{lat}, #{long}, #{distance}]&amp;#39;)&amp;#34; query &amp;lt;&amp;lt; &amp;#34; RETURN node.</description>
    </item>
    
    <item>
      <title>Ruby/Python: Constructing a taxonomy from an array using zip</title>
      <link>https://www.markhneedham.com/blog/2013/05/19/rubypython-constructing-a-taxonomy-from-an-array-using-zip/</link>
      <pubDate>Sun, 19 May 2013 22:44:40 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2013/05/19/rubypython-constructing-a-taxonomy-from-an-array-using-zip/</guid>
      <description>As I mentioned in my previous blog post I’ve been hacking on a product taxonomy and I wanted to create a &amp;#39;CHILD&amp;#39; relationship between a collection of categories.
For example, I had the following array and I wanted to transform it into an array of &amp;#39;SubCategory, Category&amp;#39; pairs:
taxonomy = [&amp;#34;Cat&amp;#34;, &amp;#34;SubCat&amp;#34;, &amp;#34;SubSubCat&amp;#34;] # I wanted this to become [(&amp;#34;Cat&amp;#34;, &amp;#34;SubCat&amp;#34;), (&amp;#34;SubCat&amp;#34;, &amp;#34;SubSubCat&amp;#34;) In order to do this we need to zip the first 2 items with the last which I found reasonably easy to do using Python:</description>
    </item>
    
    <item>
      <title>Ruby 1.9.3 p0: Investigating weirdness with HTTP POST request in net/http</title>
      <link>https://www.markhneedham.com/blog/2013/04/30/ruby-1-9-3-p0-investigating-weirdness-with-http-post-request-in-nethttp/</link>
      <pubDate>Tue, 30 Apr 2013 21:37:11 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2013/04/30/ruby-1-9-3-p0-investigating-weirdness-with-http-post-request-in-nethttp/</guid>
      <description>Thibaut and I spent the best part of the last couple of days trying to diagnose a problem we were having trying to make a POST request using rest-client to one of our services.
We have nginx fronting the application server so the request passes through there first:
The problem we were having was that the request was timing out on the client side before it had been processed and the request wasn’t reaching the application server.</description>
    </item>
    
    <item>
      <title>Ruby/Haml: Conditionally/Optionally setting an attribute/class</title>
      <link>https://www.markhneedham.com/blog/2013/03/02/rubyhaml-conditionallyoptionally-setting-an-attributeclass/</link>
      <pubDate>Sat, 02 Mar 2013 23:22:50 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2013/03/02/rubyhaml-conditionallyoptionally-setting-an-attributeclass/</guid>
      <description>One of the things that we want to do reasonably frequently is set an attribute (most often a class) on a HTML element depending on the value of a variable.
I always forget how to do this in Haml so I thought I better write it down so I’ll remember next time!
Let’s say we want to add a success class to a paragraph if the variable correct is true and not have any value if it’s false.</description>
    </item>
    
    <item>
      <title>Ruby/Haml: Maintaining white space/indentation in a &lt;pre&gt; tag</title>
      <link>https://www.markhneedham.com/blog/2013/03/02/rubyhaml-maintaining-white-spaceindentation-in-a-pre-tag/</link>
      <pubDate>Sat, 02 Mar 2013 22:19:11 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2013/03/02/rubyhaml-maintaining-white-spaceindentation-in-a-pre-tag/</guid>
      <description>I’ve been writing a little web app in which I wanted to display cypher queries inside a tag which was then prettified using SyntaxHighlighter but I was having problems with how code on new lines was being displayed.
I had the following Haml code to display a query looking up Gareth Bale in a graph:
%pre{ :class =&amp;gt; &amp;#34;brush: cypher; gutter: false; toolbar: false;&amp;#34;} START player = node:players(&amp;#39;name:&amp;#34;Gareth Bale&amp;#34;&amp;#39;) RETURN player.</description>
    </item>
    
    <item>
      <title>Ruby: Stripping out a non breaking space character (&amp;nbsp;)</title>
      <link>https://www.markhneedham.com/blog/2013/02/23/ruby-stripping-out-a-non-breaking-space-character-nbsp/</link>
      <pubDate>Sat, 23 Feb 2013 15:04:58 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2013/02/23/ruby-stripping-out-a-non-breaking-space-character-nbsp/</guid>
      <description>A couple of days ago I was playing with some code to scrape data from a web page and I wanted to skip a row in a table if the row didn’t contain any text.
I initially had the following code to do that:
rows.each do |row| next if row.strip.empty? # other scraping code end Unfortunately that approach broke down fairly quickly because empty rows contained a non breaking space i.</description>
    </item>
    
    <item>
      <title>Ruby: invalid multibyte char (US-ASCII)</title>
      <link>https://www.markhneedham.com/blog/2013/01/27/ruby-invalid-multibyte-char-us-ascii/</link>
      <pubDate>Sun, 27 Jan 2013 15:14:01 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2013/01/27/ruby-invalid-multibyte-char-us-ascii/</guid>
      <description>I’ve used Ruby on and off for the last few years but somehow had never come across the following error which we got last week while attempting to print out a currency value:
blah.ruby
amount = &amp;#34;£10.00&amp;#34; puts amount $ ruby blah.ruby blah.ruby:1: invalid multibyte char (US-ASCII) blah.ruby:1: invalid multibyte char (US-ASCII) Luckily my pair Jae had come across this before and showed me a blog post which explains what’s going on and how to sort it out.</description>
    </item>
    
    <item>
      <title>Knapsack Problem: Python vs Ruby</title>
      <link>https://www.markhneedham.com/blog/2013/01/07/knapsack-problem-python-vs-ruby/</link>
      <pubDate>Mon, 07 Jan 2013 00:47:34 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2013/01/07/knapsack-problem-python-vs-ruby/</guid>
      <description>The latest algorithm that we had to code in Algorithms 2 was the Knapsack problem which is as follows:
The knapsack problem or rucksack problem is a problem in combinatorial optimization: Given a set of items, each with a weight and a value, determine the number of each item to include in a collection so that the total weight is less than or equal to a given limit and the total value is as large as possible.</description>
    </item>
    
    <item>
      <title>Bitwise operations in Ruby and Haskell</title>
      <link>https://www.markhneedham.com/blog/2012/12/31/bitwise-operations-in-ruby-and-haskell/</link>
      <pubDate>Mon, 31 Dec 2012 13:14:42 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2012/12/31/bitwise-operations-in-ruby-and-haskell/</guid>
      <description>Part of one of the most recent problems in the Algorithms 2 course required us to find the &amp;#39;neighbours&amp;#39; of binary values.
In this case a neighbour is described as being any other binary value which has an equivalent value or differs in 1 or 2 bits.
e.g. the neighbours of &amp;#39;10000&amp;#39; would be &amp;#39;00000&amp;#39;, &amp;#39;00001&amp;#39;, &amp;#39;00010&amp;#39;, &amp;#39;00100&amp;#39;, &amp;#39;&amp;#39;01000&amp;#39;, &amp;#39;10001&amp;#39;, &amp;#39;10010&amp;#39;, &amp;#39;10011&amp;#39;, &amp;#39;10100&amp;#39;, &amp;#39;10101&amp;#39;, &amp;#39;10110&amp;#39;, &amp;#39;11000&amp;#39;, &amp;#39;11001&amp;#39;, &amp;#39;11010&amp;#39; and &amp;#39;11100&amp;#39;~</description>
    </item>
    
    <item>
      <title>Kruskal&#39;s Algorithm using union find in Ruby</title>
      <link>https://www.markhneedham.com/blog/2012/12/23/kruskals-algorithm-using-union-find-in-ruby/</link>
      <pubDate>Sun, 23 Dec 2012 21:43:42 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2012/12/23/kruskals-algorithm-using-union-find-in-ruby/</guid>
      <description>I recently wrote a blog post describing my implementation of Kruskal’s algorithm - a greedy algorithm using to find a minimum spanning tree (MST) of a graph - and while it does the job it’s not particularly quick.
It takes 20 seconds to calculate the MST for a 500 node, ~2000 edge graph.
One way that we can improve the performance of the algorithm is by storing the MST in a union find/http://en.</description>
    </item>
    
    <item>
      <title>Kruskal&#39;s Algorithm in Ruby</title>
      <link>https://www.markhneedham.com/blog/2012/12/23/kruskals-algorithm-in-ruby/</link>
      <pubDate>Sun, 23 Dec 2012 14:18:53 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2012/12/23/kruskals-algorithm-in-ruby/</guid>
      <description>Last week I wrote a couple of posts showing different implementations of Prim’s algorithm - an algorithm using to find a minimum spanning tree in a graph - and a similar algorithm is Kruskal’s algorithm.
Kruskal’s algorithm also finds a minimum spanning tree but it goes about it in a slightly different way.
Prim’s algorithm takes an approach whereby we select nodes and then find connecting edges until we’ve covered all the nodes.</description>
    </item>
    
    <item>
      <title>Ruby: Finding where gems are</title>
      <link>https://www.markhneedham.com/blog/2012/08/25/ruby-finding-where-gems-are/</link>
      <pubDate>Sat, 25 Aug 2012 10:00:07 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2012/08/25/ruby-finding-where-gems-are/</guid>
      <description>In my infrequent travels into Ruby land I always seem to forget where the gems that I’ve installed actually live on the file system but my colleague Nick recently showed me a neat way of figuring it out.
If I’m in the folder that contains all my ThoughtWorks graph code I’d just need to run the following command:
$ gem which rubygems /Users/mneedham/.rbenv/versions/jruby-1.6.7/lib/ruby/site_ruby/1.8/rubygems.rb I then loaded up irb and wrote a simple cypher query executed using neography:</description>
    </item>
    
    <item>
      <title>Ruby: neo4j gem - LoadError: no such file to load -- active_support/core_ext/class/inheritable_attributes</title>
      <link>https://www.markhneedham.com/blog/2012/04/14/ruby-neo4j-gem-loaderror-no-such-file-to-load-active_supportcore_extclassinheritable_attributes/</link>
      <pubDate>Sat, 14 Apr 2012 10:21:40 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2012/04/14/ruby-neo4j-gem-loaderror-no-such-file-to-load-active_supportcore_extclassinheritable_attributes/</guid>
      <description>I’ve been playing around with neo4j again over the past couple of days using the neo4j.rb gem to build up a graph.
I installed the gem but then ended up with the following error when I tried to &amp;#39;require neo4j&amp;#39; in &amp;#39;irb&amp;#39;:
LoadError: no such file to load -- active_support/core_ext/class/inheritable_attributes require at org/jruby/RubyKernel.java:1033 require at /Users/mneedham/.rbenv/versions/jruby-1.6.7/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:36 (root) at /Users/mneedham/.rbenv/versions/jruby-1.6.7/lib/ruby/gems/1.8/gems/neo4j-1.3.1-java/lib/neo4j.rb:9 require at org/jruby/RubyKernel.java:1033 require at /Users/mneedham/.rbenv/versions/jruby-1.6.7/lib/ruby/gems/1.8/gems/neo4j-1.3.1-java/lib/neo4j.rb:59 (root) at src/main/ruby/neo_test.rb:2 It seems a few others have come across this problem as well and the problem seems to be that ActiveSupport 3.</description>
    </item>
    
    <item>
      <title>Ruby: Refactoring from hash to object</title>
      <link>https://www.markhneedham.com/blog/2011/02/27/ruby-refactoring-from-hash-to-object/</link>
      <pubDate>Sun, 27 Feb 2011 20:10:50 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2011/02/27/ruby-refactoring-from-hash-to-object/</guid>
      <description>Something I’ve noticed when I play around with Ruby in my own time is that I nearly always end up with the situation where I’m passing hashes all over my code and to start with it’s not a big deal.
Unfortunately I eventually get to the stage where I’m effectively modelling an object inside a hash and it all gets very difficult to understand.
I’ve written a few times before about incrementally refactoring code so this seemed like a pretty good chance for me to try that out.</description>
    </item>
    
    <item>
      <title>Ruby: Where to define the method?</title>
      <link>https://www.markhneedham.com/blog/2011/02/03/ruby-where-to-define-the-method/</link>
      <pubDate>Thu, 03 Feb 2011 19:37:17 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2011/02/03/ruby-where-to-define-the-method/</guid>
      <description>In our application we deal with items which can be put into a shopping cart.
An item is defined like so:
class Item &amp;lt; ActiveRecord::Base end One problem that we had to solve recently was working out how to display a message to the user if the item they wanted to buy was out of stock.
We can find out if items are out of stock by making a call to an external service:</description>
    </item>
    
    <item>
      <title>Ruby: Sorting by boolean fields</title>
      <link>https://www.markhneedham.com/blog/2011/01/08/ruby-sorting-by-boolean-fields/</link>
      <pubDate>Sat, 08 Jan 2011 13:15:19 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2011/01/08/ruby-sorting-by-boolean-fields/</guid>
      <description>We were doing a bit of work on RapidFTR in the ThoughtWorks Pune office today and one problem my pair and I were trying to solve was how to sort a collection of objects by a boolean field.
Therefore given the following array of values:
form_sections = [FormSection.new(:enabled =&amp;gt; false, :name =&amp;gt; &amp;#34;a&amp;#34;, :order =&amp;gt; 1), FormSection.new(:enabled =&amp;gt; true, :name =&amp;gt; &amp;#34;b&amp;#34;, :order =&amp;gt; 2)] We wanted to display those form sections which were disabled at the bottom of the page.</description>
    </item>
    
    <item>
      <title>Ruby: One method, two parameter types</title>
      <link>https://www.markhneedham.com/blog/2010/12/07/ruby-one-method-two-parameter-types/</link>
      <pubDate>Tue, 07 Dec 2010 05:01:44 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/12/07/ruby-one-method-two-parameter-types/</guid>
      <description>One interesting thing that I’ve noticed while coding in Ruby is that due to the dynamicness of the language it’s possible to pass values of different types into a given method as parameters.
For example, I’ve recently come across a few examples of methods designed like this:
def calculate_foo_prices(foos) ... [foos].flatten.each do |foo| # do something end end This allows us to use the method like this:
# foos would come in as an array from the UI foos = [Foo.</description>
    </item>
    
    <item>
      <title>Ruby: Exiting a &#39;loop&#39; early</title>
      <link>https://www.markhneedham.com/blog/2010/12/01/ruby-exiting-a-loop-early/</link>
      <pubDate>Wed, 01 Dec 2010 17:56:51 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/12/01/ruby-exiting-a-loop-early/</guid>
      <description>We recently had a problem to solve which at its core required us to iterate through a collection, look up a value for each key and then exit as soon as we’d found a value.
The original solution looped through the collection and then explicitly returned once a value had been found:
def iterative_version v = nil [1,2,3,4,5].each do |i| v = long_running_method i return v unless v.nil? end v end def long_running_method(value) puts &amp;#34;inside the long running method with #{value}&amp;#34; return nil if value &amp;gt; 3 value end Which we run like so:</description>
    </item>
    
    <item>
      <title>Ruby: Checking for environment variables in a script</title>
      <link>https://www.markhneedham.com/blog/2010/11/24/ruby-checking-for-environment-variables-in-a-script/</link>
      <pubDate>Wed, 24 Nov 2010 18:34:45 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/11/24/ruby-checking-for-environment-variables-in-a-script/</guid>
      <description>I’ve been working on a Ruby script to allow us to automate part of our Solr data setup and part of the task was to check that some environment variables were set and throw an exception if not.
I got a bit stuck initially trying to work out how to return a message showing only the missing environment variables but it turned out to be pretty simple when I came back to it a couple of hours later.</description>
    </item>
    
    <item>
      <title>Capistrano, sed, escaping forward slashes and &#39;p&#39; is not &#39;puts&#39;!</title>
      <link>https://www.markhneedham.com/blog/2010/11/18/capistrano-sed-escaping-forward-slashes-and-p-is-not-puts/</link>
      <pubDate>Thu, 18 Nov 2010 18:40:37 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/11/18/capistrano-sed-escaping-forward-slashes-and-p-is-not-puts/</guid>
      <description>Priyank and I have been working on automating part of our deployment process and one task we needed to do as part of this is replace some variables used in one of our shell scripts.
All the variables in the script refer to production specific locations but we needed to change a couple of them in order to run the script in our QA environment.
We’re therefore written a sed command, which we call from Capistrano, to allow us to do this.</description>
    </item>
    
    <item>
      <title>Rails: A slightly misleading error</title>
      <link>https://www.markhneedham.com/blog/2010/11/16/rails-a-slightly-misleading-error/</link>
      <pubDate>Tue, 16 Nov 2010 21:17:00 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/11/16/rails-a-slightly-misleading-error/</guid>
      <description>We recently created a new project to handle the reporting part of our application and as with all our projects we decided not to checkin any configuration &amp;#34;.yml&amp;#39; files but rather &amp;#39;.yml.example&amp;#39; files which people can then customise for their own environments.
So in our config directory would look something like this when you first checkout the project:
config
database.yml.example
some.yml.example
&amp;lt;/ul&amp;gt; And we’d need to copy those files to get &amp;#39;.</description>
    </item>
    
    <item>
      <title>Active Record: Nested attributes</title>
      <link>https://www.markhneedham.com/blog/2010/11/09/active-record-nested-attributes/</link>
      <pubDate>Tue, 09 Nov 2010 18:37:10 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/11/09/active-record-nested-attributes/</guid>
      <description>I recently learnt about quite a neat feature of Active Record called nested attributes which allows you to save attributes on associated records of a parent model.
It’s been quite useful for us as we have a few pages in our application where the user is able to update models like this.
We would typically end up with parameters coming into the controller like this:
class FoosController &amp;lt; ApplicationController def update # params = { :id =&amp;gt; &amp;#34;1&amp;#34;, :foo =&amp;gt; { :baz =&amp;gt; &amp;#34;new_baz&amp;#34;, :bar_attributes =&amp;gt; { :value =&amp;gt; &amp;#34;something&amp;#34; } } } Foo.</description>
    </item>
    
    <item>
      <title>Ruby: Getting Active Record validation errors twice</title>
      <link>https://www.markhneedham.com/blog/2010/10/29/ruby-getting-active-record-validation-errors-twice/</link>
      <pubDate>Fri, 29 Oct 2010 04:27:41 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/10/29/ruby-getting-active-record-validation-errors-twice/</guid>
      <description>I managed to create an interesting problem for myself while playing around with some code whereby I was ending up with validation errors appearing twice every time I called &amp;#39;valid?&amp;#39; on a specific model.
I figured I was probably doing something stupid and in fact a few replies by Aaron Baldwin on a mailing list thread on &amp;#39;rubyonrails-talk&amp;#39; helped explain exactly what I’d done:
Are you calling require &amp;#39;employee&amp;#39; anywhere?</description>
    </item>
    
    <item>
      <title>Ruby: Using a variable in a  regex</title>
      <link>https://www.markhneedham.com/blog/2010/10/27/ruby-using-a-variable-in-a-regex/</link>
      <pubDate>Wed, 27 Oct 2010 13:55:27 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/10/27/ruby-using-a-variable-in-a-regex/</guid>
      <description>We’re using Web Mock on my current project to stub out some of the external web requests in some of our integration tests and I managed to get myself very confused while trying to use a variable inside a regular expression that I was trying to pass to the &amp;#39;stub_request&amp;#39; method.
The code was roughly like this:
some_url = &amp;#34;http://service.com/method&amp;#34; stub_request(:any, /some_url/). to_return(:body =&amp;gt; File.new(&amp;#39;/path/to/some.xml&amp;#39;), :headers =&amp;gt; {&amp;#39;Content-Length&amp;#39; =&amp;gt; 666, &amp;#39;Content-Type&amp;#39; =&amp;gt; &amp;#39;text/xml&amp;#39;}, :status =&amp;gt; 200, :headers =&amp;gt; {&amp;#39;Content-Type&amp;#39; =&amp;gt; &amp;#39;text/xml&amp;#39;}) The request was being stubbed when I hard coded the url inside the regular expression but not being stubbed when I used the variable like in the example above.</description>
    </item>
    
    <item>
      <title>Ruby: Mocking or stubbing methods on the system under test</title>
      <link>https://www.markhneedham.com/blog/2010/10/24/ruby-mocking-or-stubbing-methods-on-the-system-under-test/</link>
      <pubDate>Sun, 24 Oct 2010 17:30:26 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/10/24/ruby-mocking-or-stubbing-methods-on-the-system-under-test/</guid>
      <description>An approach to testing which I haven’t seen before and am therefore assuming is more specific to Ruby is the idea of stubbing or mocking out functions on the system under test.
I’ve come across a couple of situations where this seems to be done:
When stubbing out calls to methods which are being mixed into the class via a module
When stubbing out calls to private methods within the class</description>
    </item>
    
    <item>
      <title>Ruby: Using alias with &#39;indexers&#39;</title>
      <link>https://www.markhneedham.com/blog/2010/10/18/ruby-using-alias-with-indexers/</link>
      <pubDate>Mon, 18 Oct 2010 04:24:22 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/10/18/ruby-using-alias-with-indexers/</guid>
      <description>I’ve been browsing through some of the Rails routing code while following Jamis&amp;#39; Buck’s blog post and I came across something I hadn’t seen before while inside the &amp;#39;NamedRouteCollection&amp;#39; class.
The bit of code which initially confused me is in RouteSet.add_named_route:
module ActionController module Routing class RouteSet def initialize ... self.named_routes = NamedRouteCollection.new end def add_named_route(name, path, options = {}) # TODO - is options EVER used? name = options[:name_prefix] + name.</description>
    </item>
    
    <item>
      <title>Ruby: Hash default value</title>
      <link>https://www.markhneedham.com/blog/2010/10/16/ruby-hash-default-value/</link>
      <pubDate>Sat, 16 Oct 2010 14:02:37 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/10/16/ruby-hash-default-value/</guid>
      <description>I’ve been pairing a fair bit with Ashwin this week and one thing he showed me which I hadn’t previously seen is the ability to set a default value for a hash which gets returned if we search for a key that doesn’t exist.
This is an idea that I originally came across while playing around with Clojure but with Clojure the default value was defined in the calling code rather than in the hash definition.</description>
    </item>
    
    <item>
      <title>Ruby: Active Record - Using &#39;exclusive_scope&#39; in IRB</title>
      <link>https://www.markhneedham.com/blog/2010/10/11/ruby-active-record-using-exclusive_scope-in-irb/</link>
      <pubDate>Mon, 11 Oct 2010 19:03:39 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/10/11/ruby-active-record-using-exclusive_scope-in-irb/</guid>
      <description>Ashwin and I have been working recently on a bit of code to make it possible to &amp;#39;soft delete&amp;#39; some objects in our system.
We’re doing this by creating an additional column in that table called &amp;#39;deleted_at_date&amp;#39; which we populate if a record is &amp;#39;deleted&amp;#39;.
As we wanted the rest of the application to ignore &amp;#39;deleted&amp;#39; records we added a default scope to it:
class Foo &amp;lt; ActiveRecord::Base default_scope :conditions =&amp;gt; &amp;#34;deleted_at_date is null&amp;#34; end This works fine but we wanted to be able to see the status of all the records in IRB and with the default scope &amp;#39;Foo.</description>
    </item>
    
    <item>
      <title>Ruby: Getting the caller method with Kernel.caller</title>
      <link>https://www.markhneedham.com/blog/2010/10/08/ruby-getting-the-caller-method-with-kernel-caller/</link>
      <pubDate>Fri, 08 Oct 2010 13:19:56 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/10/08/ruby-getting-the-caller-method-with-kernel-caller/</guid>
      <description>One of the things I’ve been finding when debugging Cucumber specs is that due to the number of levels of indirection present in those examples it becomes quite difficult to work out exactly how certain pieces of code got called.
In one cuke we were trying to work out how 4 objects of the same type were ending up in the database when it seemed like there should only be two.</description>
    </item>
    
    <item>
      <title>Rails: before_filter, rescue_from and so on</title>
      <link>https://www.markhneedham.com/blog/2010/10/05/rails-before_filter-rescue_from-and-so-on/</link>
      <pubDate>Tue, 05 Oct 2010 08:53:48 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/10/05/rails-before_filter-rescue_from-and-so-on/</guid>
      <description>One thing I’ve noticed while browsing our Rails code base is that the first entry point inside a controller is much less frequently the method corresponding to the action than it would be with a C# ASP.NET MVC application.
The concept of filters exists in ASP.NET MVC but on the projects I’ve worked on they’ve been used significantly less than before filters would be in a Rails application.
As a result I’m getting much more in the habit of checking for the before filters in the ApplicationController when an action isn’t working as expected to try and figure out what’s going on.</description>
    </item>
    
    <item>
      <title>RSpec: Another newbie mistake</title>
      <link>https://www.markhneedham.com/blog/2010/09/30/rspec-another-newbie-mistake/</link>
      <pubDate>Thu, 30 Sep 2010 07:03:07 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/30/rspec-another-newbie-mistake/</guid>
      <description>We recently had a spec which was checking that we didn’t receive a call to a specific method on an object…​
describe &amp;#34;Our Object&amp;#34; do it &amp;#34;should not update property if user is not an admin&amp;#34; do our_user = Factory(&amp;#34;user_with_role_x) User.stub!(:find).and_return(our_user) user.stub!(:is_admin?).and_return(false) user.should_not_receive(:property) end end …​where &amp;#39;property&amp;#39; refers to a field in the users table. In the code &amp;#39;property&amp;#39; would get set like this:
class ObjectUnderTest def method_under_test user = User.</description>
    </item>
    
    <item>
      <title>Ruby: ActiveRecord 2.3.5 object equality</title>
      <link>https://www.markhneedham.com/blog/2010/09/30/ruby-activerecord-2-3-5-object-equality/</link>
      <pubDate>Thu, 30 Sep 2010 07:00:57 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/30/ruby-activerecord-2-3-5-object-equality/</guid>
      <description>We learnt something interesting about the equality of ActiveRecord objects today while comparing two user objects - one which was being provided to our application by Warden and the other that we’d retrieved by a &amp;#39;User.find&amp;#39; call.
Both objects referred to the same user in the database but were different instances in memory.
We needed to check that we were referring to the same user for one piece of functionality and were therefore able to make use of the &amp;#39;==&amp;#39; method defined on ActiveRecord::Base which is defined in the documentation like so:</description>
    </item>
    
    <item>
      <title>Ruby: Intersection/Difference/Concatenation with collections</title>
      <link>https://www.markhneedham.com/blog/2010/09/29/ruby-intersectiondifferenceconcatenation-with-collections/</link>
      <pubDate>Wed, 29 Sep 2010 03:28:40 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/29/ruby-intersectiondifferenceconcatenation-with-collections/</guid>
      <description>We came across a couple of situations yesterday where we wanted to perform operations on two different arrays.
My immediate thought was that there should be some methods available similar to what we have in C# which Mike Wagg and I spoke about in our talk about using functional programming techniques in C#.
I was expecting to find methods with names indicating the operation they perform but in actual fact the methods are more like operators which makes for code that reads really well.</description>
    </item>
    
    <item>
      <title>FactoryGirl: &#39;has_and_belongs_to_many&#39; associations and the &#39;NoMethodError&#39;</title>
      <link>https://www.markhneedham.com/blog/2010/09/27/factorygirl-has_and_belongs_to_many-associations-and-the-nomethoderror/</link>
      <pubDate>Mon, 27 Sep 2010 14:18:48 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/27/factorygirl-has_and_belongs_to_many-associations-and-the-nomethoderror/</guid>
      <description>We ran into a somewhat frustrating problem while using Factory Girl to create an object which had a &amp;#39;has_and_belongs_to_many&amp;#39; association with another object.
The relevant code in the two classes was like this..
class Bar &amp;lt; ActiveRecord::Base has_and_belongs_to_many :foos, :class_name =&amp;gt; &amp;#34;Foo&amp;#34;, :join-table =&amp;gt; &amp;#34;bar_foos&amp;#34; end class Foo &amp;lt; ActiveRecord::Base has_many :bars end …​and we originally defined our &amp;#39;Bar&amp;#39; factory like so:
Factory.define :bar do |f| f.association(:foos, :factory =&amp;gt; :foo) end Factory.</description>
    </item>
    
    <item>
      <title>RSpec: Fooled by stub!...with</title>
      <link>https://www.markhneedham.com/blog/2010/09/26/rspec-fooled-by-stub-with/</link>
      <pubDate>Sun, 26 Sep 2010 19:03:24 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/26/rspec-fooled-by-stub-with/</guid>
      <description>We had an RSpec spec setup roughly like this the other day…​
describe &amp;#34;my stub test&amp;#34; do it &amp;#34;should be amazin&amp;#34; do Mark.stub!(:random).with(&amp;#34;some_wrong_argument&amp;#34;).and_return(&amp;#34;something&amp;#34;) Another.new.a_method end end …​where &amp;#39;Mark&amp;#39; and &amp;#39;Another&amp;#39; were defined like so:
class Mark def self.random(params) &amp;#34;do some amazing stuff&amp;#34; end end class Another def a_method random = Mark.random(&amp;#34;foo&amp;#34;) # use random for something end end When we ran the spec we would get the following error message which was initially a little baffling:</description>
    </item>
    
    <item>
      <title>RSpec: Causing ourselves much pain through &#39;attr&#39; misuse</title>
      <link>https://www.markhneedham.com/blog/2010/09/26/rspec-causing-ourselves-much-pain-through-attr-misuse/</link>
      <pubDate>Sun, 26 Sep 2010 18:57:53 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/26/rspec-causing-ourselves-much-pain-through-attr-misuse/</guid>
      <description>While testing some code that we were mixing into one of our controllers we made what I thought was an interesting mistake.
The module we wanted to test had some code a bit like this…​
module OurModule def some_method @User = User.find(params[:id]) # in the test code this is always true if @user == user ... end end end .and we had the spec setup like so: describe &amp;#39;OurController&amp;#39; do class TestController include OurModule attr_accessor :user end before(:each) do @controller = TestController.</description>
    </item>
    
    <item>
      <title>Ruby: Control flow using &#39;and&#39;</title>
      <link>https://www.markhneedham.com/blog/2010/09/23/ruby-control-flow-using-and/</link>
      <pubDate>Thu, 23 Sep 2010 14:33:29 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/23/ruby-control-flow-using-and/</guid>
      <description>Something I’ve noticed while reading Ruby code is that quite frequently the flow of a program is controlled by the &amp;#39;chaining&amp;#39; of different operations through use of the &amp;#39;and&amp;#39; keyword.
I’ve noticed that this pattern is used in Javascript code as well and it’s particularly prevalent when we want to get a status for those operations after they’ve all been executed.
For example we might have the following code…​</description>
    </item>
    
    <item>
      <title>Ruby: Returning hashes using merge! and merge</title>
      <link>https://www.markhneedham.com/blog/2010/09/21/ruby-returning-hashes-using-merge-and-merge/</link>
      <pubDate>Tue, 21 Sep 2010 20:24:47 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/21/ruby-returning-hashes-using-merge-and-merge/</guid>
      <description>We came across an interesting problem today with some code which was unexpectedly returning nil.
The code that we had looked like this…​
class SomeClass def our_method a_hash = { :a =&amp;gt; 2 } a_hash.merge!({:b =&amp;gt; 3}) unless some_condition.nil? end end …​and we didn’t notice the &amp;#39;unless&amp;#39; statement on the end which meant that if &amp;#39;some_condition&amp;#39; was nil then the return value of the method would be nil.
One way around it is to ensure that we explicitly return a_hash at the end of the method…​</description>
    </item>
    
    <item>
      <title>Rails: Faking a delete method with &#39;form_for&#39;</title>
      <link>https://www.markhneedham.com/blog/2010/09/20/rails-faking-a-delete-method-with-form_for/</link>
      <pubDate>Mon, 20 Sep 2010 18:52:15 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/20/rails-faking-a-delete-method-with-form_for/</guid>
      <description>We recently had a requirement to delete an item based on user input and wanting to adhere to the &amp;#39;RESTful&amp;#39; approach that Rails encourages we therefore needed to fake a HTTP Delete method request.
The documentation talks a little about this:
The Rails framework encourages RESTful design of your applications, which means you’ll be making a lot of “PUT” and “DELETE” requests (besides “GET” and “POST”). However, most browsers don’t support methods other than “GET” and “POST” when it comes to submitting forms.</description>
    </item>
    
    <item>
      <title>Ruby: Random Observations</title>
      <link>https://www.markhneedham.com/blog/2010/09/19/ruby-random-observations/</link>
      <pubDate>Sun, 19 Sep 2010 11:35:28 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/19/ruby-random-observations/</guid>
      <description>I thought it’d be interesting to write down some of my observations after working with Ruby and Rails for a couple more weeks so here are some more things I’ve come across and others that I’ve got confused with…​
The :: operator (apparently also known as the leading double colon operator)
I came across this while looking at some of the rails_warden code to try to understand how that gem opens the ActionController::Base class to add helper methods to it.</description>
    </item>
    
    <item>
      <title>Ruby: Testing declarative_authorization</title>
      <link>https://www.markhneedham.com/blog/2010/09/17/ruby-testing-declarative_authorization/</link>
      <pubDate>Fri, 17 Sep 2010 19:53:37 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/17/ruby-testing-declarative_authorization/</guid>
      <description>As I mentioned in a post earlier in the week we’re using the declarative_authorization gem to control access to various parts of our application and as we’ve been migrating parts of the code base over to use that framework one thing we’ve noticed is that there seems to be a diminishing return in how much value we get from writing specs to cover each rule that we create.
We found that while it is possible to write a spec to cover every single rule it sometimes seems like the spec is just duplicating what the rule already describes.</description>
    </item>
    
    <item>
      <title>Ruby: Caught out by no type checking</title>
      <link>https://www.markhneedham.com/blog/2010/09/13/ruby-caught-out-by-no-type-checking/</link>
      <pubDate>Mon, 13 Sep 2010 17:44:04 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/13/ruby-caught-out-by-no-type-checking/</guid>
      <description>I got caught out for a little while today when comparing a value coming into a controller from &amp;#39;params&amp;#39; which we were then comparing with a collection of numbers.
The code was roughly like this…​
class SomeController def some_action some_collection = [1,2,3,4,5] selected_item = some_collection.find { |item| item == params[:id] } end end …​and since the &amp;#39;id&amp;#39; being passed in was &amp;#39;1&amp;#39; I was expected that we should have a selected item but we didn’t.</description>
    </item>
    
    <item>
      <title>Ruby: FactoryGirl &amp; declarative_authorization - Random thoughts</title>
      <link>https://www.markhneedham.com/blog/2010/09/12/ruby-factorygirl-declarative_authorization-random-thoughts/</link>
      <pubDate>Sun, 12 Sep 2010 14:25:06 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/12/ruby-factorygirl-declarative_authorization-random-thoughts/</guid>
      <description>Two other gems that we’re using on my current project are FactoryGirl and declarative_authorization.
We use declarative_authorization for controlling access to various parts of the application and FactoryGirl allows us to build objects for use in our tests.
We wanted to be able to deactivate the authorization when creating test objects because otherwise our test wouldn’t have permission to create certain objects.
Our original approach was to create a &amp;#39;God&amp;#39; role which we could assign to the &amp;#39;current_user&amp;#39; in our tests therefore allowing us to create whatever objects we wanted.</description>
    </item>
    
    <item>
      <title>Rails: Polymorphism through &#39;constantize&#39;</title>
      <link>https://www.markhneedham.com/blog/2010/09/10/rails-polymorphism-through-constantize/</link>
      <pubDate>Fri, 10 Sep 2010 21:26:04 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/10/rails-polymorphism-through-constantize/</guid>
      <description>One interesting feature of Rails which Shishir pointed out the other day is the ability to take a user provided value and make use of Active Support’s &amp;#39;constantize&amp;#39; method to effectively achieve polymorphism directly from the user’s input.
As an example if we were creating different types of widgets from the same web page we might have several different forms that the user could submit.
We could have a hidden field representing the type of the widget like so:</description>
    </item>
    
    <item>
      <title>Ruby: Checking an array contains an item</title>
      <link>https://www.markhneedham.com/blog/2010/09/08/ruby-checking-an-array-contains-an-item/</link>
      <pubDate>Wed, 08 Sep 2010 18:54:50 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/08/ruby-checking-an-array-contains-an-item/</guid>
      <description>A couple of times in the past few days I’ve wanted to check if a particular item exists in an array and presumably influenced by working for too long with the .NET/Java APIs I keep expecting there to be a &amp;#39;contains&amp;#39; method that I can call on the array!
More as an attempt to help myself remember than anything else, the method we want is actually called &amp;#39;include?&amp;#39;.
Therefore…​</description>
    </item>
    
    <item>
      <title>Ruby: Hash ordering</title>
      <link>https://www.markhneedham.com/blog/2010/09/07/ruby-hash-ordering/</link>
      <pubDate>Tue, 07 Sep 2010 03:52:32 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/09/07/ruby-hash-ordering/</guid>
      <description>The application that I’m working on at the moment is deployed into production on JRuby but we also use the C Ruby 1.8.7 interpreter when developing locally since this allows us much quicker feedback.
As a result we sometimes come across interesting differences in the way that the two runtimes work.
One that we noticed yesterday is that if you create a hash, the order of the keys in the hash will be preserved when interpreted on JRuby but not with the C Ruby interpreter.</description>
    </item>
    
    <item>
      <title>Rails: Populating a dropdown list using &#39;form_for&#39;</title>
      <link>https://www.markhneedham.com/blog/2010/08/31/rails-populating-a-dropdown-list-using-form_for/</link>
      <pubDate>Tue, 31 Aug 2010 01:22:14 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/08/31/rails-populating-a-dropdown-list-using-form_for/</guid>
      <description>Last week we were trying to make use of Rails&amp;#39; &amp;#39;form_for&amp;#39; helper to populate a dropdown list with the values of a collection that we’d set to an instance variable in our controller.
My colleague pointed out that we’d need to use &amp;#39;collection_select&amp;#39; in order to do this.
We want to put the values in the &amp;#39;foos&amp;#39; collection onto the page. &amp;#39;foos&amp;#39; is a hash which defines some display values and their corresponding values like so:</description>
    </item>
    
    <item>
      <title>Ruby: &#39;method_missing&#39; and slightly misled by RubyMine</title>
      <link>https://www.markhneedham.com/blog/2010/08/23/ruby-method_missing-and-slightly-misled-by-rubymine/</link>
      <pubDate>Mon, 23 Aug 2010 21:07:46 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/08/23/ruby-method_missing-and-slightly-misled-by-rubymine/</guid>
      <description>Another library that we’re using on my project is ActionMailer and before reading through the documentation I was confused for quite a while with respect to how it actually worked.
We have something similar to the following piece of code…​
Emailer.deliver_some_email …​which when you click its definition in RubyMine takes you to this class definition:
class Emailer &amp;lt; ActionMailer::Base def some_email recipients &amp;#34;some@email.com&amp;#34; from &amp;#34;some_other_email@whatever.com&amp;#34; # and so on end end I initially thought that method was called &amp;#39;deliver_some_mail&amp;#39; but having realised that it wasn’t I was led to the &amp;#39;magic&amp;#39; that is &amp;#39;method_missing&amp;#39; on &amp;#39;ActionMailer::Base&amp;#39; which is defined as follows:</description>
    </item>
    
    <item>
      <title>Ruby: Accessing fields</title>
      <link>https://www.markhneedham.com/blog/2010/08/22/ruby-accessing-fields/</link>
      <pubDate>Sun, 22 Aug 2010 18:26:17 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/08/22/ruby-accessing-fields/</guid>
      <description>I’ve spent a little time browsing through some of the libraries used by my project and one thing which I noticed in ActiveSupport is that fields don’t seem to be accessed directly but rather are accessed through a method which effectively encapsulates them inside the object.
For example the following function is defined in &amp;#39;inheritable_attributes.rb&amp;#39;
def write_inheritable_attribute(key, value) if inheritable_attributes.equal?(EMPTY_INHERITABLE_ATTRIBUTES) @inheritable_attributes = {} end inheritable_attributes[key] = value end def inheritable_attributes @inheritable_attributes ||= EMPTY_INHERITABLE_ATTRIBUTES end EMPTY_INHERITABLE_ATTRIBUTES = {}.</description>
    </item>
    
    <item>
      <title>Bundler: Don&#39;t forget to call &#39;source&#39;</title>
      <link>https://www.markhneedham.com/blog/2010/07/25/bundler-dont-forget-to-call-source/</link>
      <pubDate>Sun, 25 Jul 2010 11:48:51 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/07/25/bundler-dont-forget-to-call-source/</guid>
      <description>Brian, Tejas and I (well mainly them) have been working on an application to give badges to people based on their GitHub activity at the Yahoo Open Hack Day in Bangalore and we’ve been making use of Bundler to pull in our dependencies.
Our Gemfile was originally like this:
gem &amp;#34;sinatra&amp;#34;, &amp;#34;1.0&amp;#34; gem &amp;#34;haml&amp;#34;, &amp;#34;3.0.13&amp;#34; gem &amp;#34;activesupport&amp;#34;, &amp;#34;3.0.0.beta4&amp;#34;, :require =&amp;gt; false gem &amp;#34;tzinfo&amp;#34;, &amp;#34;0.3.22&amp;#34; gem &amp;#34;nokogiri&amp;#34;, &amp;#34;1.4.2&amp;#34; ... For quite a while we were wondering why &amp;#39;bundle install&amp;#39; wasn’t actually resolving anything at all before we RTFM and realised that we needed to call &amp;#39;source&amp;#39; at the top so that bundler knows where to pull the dependencies from.</description>
    </item>
    
    <item>
      <title>Installing Ruby 1.9.2 with RVM on Snow Leopard</title>
      <link>https://www.markhneedham.com/blog/2010/07/08/installing-ruby-1-9-2-with-rvm-on-snow-leopard/</link>
      <pubDate>Thu, 08 Jul 2010 13:10:32 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/07/08/installing-ruby-1-9-2-with-rvm-on-snow-leopard/</guid>
      <description>Yesterday evening I decided to try and upgrade the Ruby installation on my Mac from 1.8.7 to 1.9.2 and went on the yak shaving mission which is doing just that.
RVM seems to be the way to install Ruby these days so I started off by installing that with the following command from the terminal:
bash &amp;lt; &amp;lt;( curl http://rvm.beginrescueend.com/releases/rvm-install-head ) That bit worked fine for me but there are further instructions on the RVM website if that doesn’t work.</description>
    </item>
    
    <item>
      <title>Iron Ruby: &#39;unitialized constant...NameError&#39;</title>
      <link>https://www.markhneedham.com/blog/2010/04/25/iron-ruby-unitialized-constant-nameerror/</link>
      <pubDate>Sun, 25 Apr 2010 17:27:25 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2010/04/25/iron-ruby-unitialized-constant-nameerror/</guid>
      <description>I’ve been playing around a bit with Iron Ruby and cucumber following Rupak Ganguly’s tutorial and I tried to change the .NET example provided in the 0.4.2 release of cucumber to call a class wrapping Castle’s WindsorContainer.
The feature file now looks like this:
# &amp;#39;MyAssembly.dll&amp;#39; is in the &amp;#39;C:/Ruby/lib/ruby/gems/1.8/gems/cucumber-0.6.4/examples/cs&amp;#39; folder require &amp;#39;MyAssembly&amp;#39; ... Before do @container = Our::Namespace::OurContainer.new.Container end The class is defined roughly like this:
public class OurContainer : IContainerAccessor { private WindsorContainer container = new WindsorContainer(); public SwintonContainer() { container.</description>
    </item>
    
    <item>
      <title>rspec - Invalid character &#39;\240&#39; in expression</title>
      <link>https://www.markhneedham.com/blog/2008/10/06/rspec-invalid-character-240-in-expression/</link>
      <pubDate>Mon, 06 Oct 2008 20:48:48 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2008/10/06/rspec-invalid-character-240-in-expression/</guid>
      <description>We have been using rspec on my project for the unit testing of our Ruby code and while running one of the specs last week I ended up getting this somewhat en-cryptic error message:
Invalid character &amp;#39;\240&amp;#39; in expression ... After convincing myself that this error wasn’t actually possible it turned out that I had somehow entered an &amp;#39;invisible to TextMate&amp;#39; character after one of the method definitions - on the editor it just looked like a space.</description>
    </item>
    
    <item>
      <title>Calling shell script from ruby script</title>
      <link>https://www.markhneedham.com/blog/2008/10/06/calling-shell-script-from-ruby-script/</link>
      <pubDate>Mon, 06 Oct 2008 20:12:49 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2008/10/06/calling-shell-script-from-ruby-script/</guid>
      <description>Damana and I previously posted about our experiences with different Ruby LDAP solutions.
Having settled on Ruby-LDAP (although having read Ola and Steven’s comments we will now look at ruby-net-ldap) we then needed to put together the setup, installation and teardown into a ruby script file.
A quick bit of Googling revealed that we could use the Kernel.exec method to do this.
For example, you could put the following in a ruby script file and it would execute and show you the current directory listing:</description>
    </item>
    
    <item>
      <title>Ruby: Ignore header line when parsing CSV file</title>
      <link>https://www.markhneedham.com/blog/2008/10/04/ruby-ignore-header-line-when-parsing-csv-file/</link>
      <pubDate>Sat, 04 Oct 2008 01:32:08 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2008/10/04/ruby-ignore-header-line-when-parsing-csv-file/</guid>
      <description>As my Ruby journey continues one of the things I wanted to do today was parse a CSV file.
This article proved to be very useful for teaching the basics but it didn’t say how to ignore the header line that the CSV file contained.
The CSV file I was parsing was similar to this:
name, surname, location Mark, Needham, Sydney David, Smith, London I wanted to get the names of people originally to use them in my code.</description>
    </item>
    
    <item>
      <title>Ruby: Unzipping a file using rubyzip</title>
      <link>https://www.markhneedham.com/blog/2008/10/02/ruby-unzipping-a-file-using-rubyzip/</link>
      <pubDate>Thu, 02 Oct 2008 00:04:22 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2008/10/02/ruby-unzipping-a-file-using-rubyzip/</guid>
      <description>In the world of Ruby I’ve been working on a script which needs to unzip a file and then run an installer which is only available after unpacking it.
We’ve been using the rubyzip gem to do so but so far it hasn’t felt intuitive to me coming from the Java/C# world.
ZipFile is the class we need to use and at first glance I had thought that it would be possible to just pass the zip file name to the &amp;#39;extract&amp;#39; method and have it do all the work for me!</description>
    </item>
    
    <item>
      <title>Alt.NET Sydney User Group Meeting #1</title>
      <link>https://www.markhneedham.com/blog/2008/10/01/altnet-sydney-user-group-meeting-1/</link>
      <pubDate>Wed, 01 Oct 2008 22:09:53 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2008/10/01/altnet-sydney-user-group-meeting-1/</guid>
      <description>James Crisp and Richard Banks arranged the first Alt.NET Sydney User Group meeting held on Tuesday night at the ThoughtWorks office.
The first thing to say is thanks to James and Richard for getting this setup so quickly - it was less than a month ago that Richard suggested the idea of creating a group on the Alt.NET mailing list.
Richard and James have already written summaries of what went on but I thought I’d give some of my thoughts as well.</description>
    </item>
    
    <item>
      <title>Ruby: Parameterising with ActiveResource</title>
      <link>https://www.markhneedham.com/blog/2008/08/08/ruby-parameterising-with-activeresource/</link>
      <pubDate>Fri, 08 Aug 2008 22:16:02 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2008/08/08/ruby-parameterising-with-activeresource/</guid>
      <description>We’ve been using Ruby/Rails on my current project to create a RESTful web service. One of the problems we wanted to solve was making the data queried by this web service configurable from our build.
We started off with the following bit of code (which makes use of the recently added ActiveResource class):123~ &amp;lt;/td&amp;gt; class MyClass &amp;lt; ActiveResource::[.co]Base self.site = [.dl]&amp;#34;[.k]#http://localhost:3000/[.dl]&amp;#34;[.r]#end~ &amp;lt;/td&amp;gt; &amp;lt;/tr&amp;gt; &amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt; And then called this class as follows: 1~ &amp;lt;/td&amp;gt; MyClass.</description>
    </item>
    
    <item>
      <title>Watching a master at work</title>
      <link>https://www.markhneedham.com/blog/2006/09/02/watching-a-master-at-work/</link>
      <pubDate>Sat, 02 Sep 2006 01:01:44 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2006/09/02/watching-a-master-at-work/</guid>
      <description>I’ve always found it fascinating watching people who really excel in their field going about business, be it footballers, tennis players, actors, whoever.
This week at TWU I’ve been playing around with some Ruby on Rails as I mentioned in the previous post, and yesterday I had the opportunity to watch one of the leading figures in the Ruby on Rails field at work. Take a bow Obie Fernandez, who gave several of the TWU attendees a demonstration of how to develop applications using Ruby on Rails.</description>
    </item>
    
    <item>
      <title>First thoughts on Ruby...</title>
      <link>https://www.markhneedham.com/blog/2006/08/29/first-thoughts-on-ruby/</link>
      <pubDate>Tue, 29 Aug 2006 20:01:05 +0000</pubDate>
      
      <guid>https://www.markhneedham.com/blog/2006/08/29/first-thoughts-on-ruby/</guid>
      <description>I’ve heard a lot about Ruby on Rails over the last couple of years but I’d never really been intrigued to get it set up on my machine and &amp;#39;have a play&amp;#39; with it so to speak.
It turned out to be a relatively painless process and after following the instructions on the official site I had it all setup within about half an hour which was a record for me for getting a development environment setup.</description>
    </item>
    
  </channel>
</rss>
