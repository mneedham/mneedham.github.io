<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>dplyr on Mark Needham</title>
    <link>https://markhneedham.com/blog/tag/dplyr/</link>
    <description>Recent content in dplyr on Mark Needham</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 09 Jul 2015 05:55:33 +0000</lastBuildDate>
    
	<atom:link href="https://markhneedham.com/blog/tag/dplyr/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>R: dplyr - Error: cannot modify grouping variable</title>
      <link>https://markhneedham.com/blog/2015/07/09/r-dplyr-error-cannot-modify-grouping-variable/</link>
      <pubDate>Thu, 09 Jul 2015 05:55:33 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2015/07/09/r-dplyr-error-cannot-modify-grouping-variable/</guid>
      <description>&amp;gt; library(dplyr) &amp;gt; df %&amp;gt;% sample_n(5) title date 1148 Taiichi Ohno&amp;#39;s Workplace Management: Book Review 2008-12-08 14:14:48 158 Rails: Faking a delete method with &amp;#39;form_for&amp;#39; 2010-09-20 18:52:15 331 Retrospectives: The 4 L&amp;#39;s Retrospective 2011-07-25 21:00:30 1035 msbuild - Use OutputPath instead of OutDir 2008-08-14 18:54:03 1181 The danger of commenting out code 2009-01-17 06:02:33 &amp;gt; df %&amp;gt;% mutate(day = as.Date(date)) %&amp;gt;% count(day) %&amp;gt;% arrange(desc(n)) Source: local data frame [1,140 x 2] day n 1 2012-12-31 6 2 2014-05-31 6 3 2008-08-08 5 4 2013-01-27 5 5 2009-08-24 4 6 2012-06-24 4 7 2012-09-30 4 8 2012-10-27 4 9 2012-11-24 4 10 2013-02-28 4 &amp;gt; df %&amp;gt;% mutate(day = as.</description>
    </item>
    
    <item>
      <title>R: dplyr - segfault cause &#39;memory not mapped&#39;</title>
      <link>https://markhneedham.com/blog/2015/06/20/r-dplyr-segfault-cause-memory-not-mapped/</link>
      <pubDate>Sat, 20 Jun 2015 22:18:55 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2015/06/20/r-dplyr-segfault-cause-memory-not-mapped/</guid>
      <description>library(readr) dlines = data.frame(column = read_lines(&amp;#34;~/projects/logs/2015-06-18-22-docs&amp;#34;)) extract_uri = function(log) { parts = str_extract_all(log, &amp;#34;\&amp;#34;[^\&amp;#34;]*\&amp;#34;&amp;#34;) return(lapply(parts, function(p) str_match(p[1], &amp;#34;GET (.*) HTTP&amp;#34;)[2] %&amp;gt;% as.character)) } library(dplyr) pages_viewed = dlines %&amp;gt;% mutate(uri = extract_uri(column)) %&amp;gt;% count(uri) %&amp;gt;% arrange(desc(n)) segfault cause &amp;#39;memory not mapped&amp;#39; ## Error in eval(expr, envir, enclos): cannot group column uri, of class &amp;#39;list&amp;#39; extract_uri = function(log) { parts = str_extract_all(log, &amp;#34;\&amp;#34;[^\&amp;#34;]*\&amp;#34;&amp;#34;) return(unlist(lapply(parts, function(p) str_match(p[1], &amp;#34;GET (.*) HTTP&amp;#34;)[2] %&amp;gt;% as.character))) } </description>
    </item>
    
    <item>
      <title>R: dplyr - removing empty rows</title>
      <link>https://markhneedham.com/blog/2015/06/02/r-dplyr-removing-empty-rows/</link>
      <pubDate>Tue, 02 Jun 2015 06:49:10 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2015/06/02/r-dplyr-removing-empty-rows/</guid>
      <description>wget ￼http://www.greenteapress.com/thinkbayes/showcases.2011.csv￼ library(dplyr) df2011 = read.csv(&amp;#34;~/projects/rLearning/showcases.2011.csv&amp;#34;) &amp;gt; df2011 %&amp;gt;% head(10) X Sep..19 Sep..20 Sep..21 Sep..22 Sep..23 Sep..26 Sep..27 Sep..28 Sep..29 Sep..30 Oct..3 1 5631K 5632K 5633K 5634K 5635K 5641K 5642K 5643K 5644K 5645K 5681K 2 3 Showcase 1 50969 21901 32815 44432 24273 30554 20963 28941 25851 28800 37703 4 Showcase 2 45429 34061 53186 31428 22320 24337 41373 45437 41125 36319 38752 5 ... df2011 = read.csv(&amp;#34;~/projects/rLearning/showcases.2011.csv&amp;#34;, na.strings = c(&amp;#34;&amp;#34;, &amp;#34;NA&amp;#34;)) df2011 = df2011 %&amp;gt;% na.</description>
    </item>
    
    <item>
      <title>R: dplyr - Select &#39;random&#39; rows from a data frame</title>
      <link>https://markhneedham.com/blog/2014/11/26/r-dplyr-select-random-rows-from-a-data-frame/</link>
      <pubDate>Wed, 26 Nov 2014 00:01:12 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2014/11/26/r-dplyr-select-random-rows-from-a-data-frame/</guid>
      <description>data = data.frame( letter = sample(LETTERS, 50000, replace = TRUE), number = sample (1:10, 50000, replace = TRUE) ) &amp;gt; randomRows = sample(1:length(data[,1]), 10, replace=T) &amp;gt; randomRows [1] 8723 18772 4964 36134 27467 31890 16313 12841 49214 15621 &amp;gt; data %&amp;gt;% slice(randomRows) letter number 1 Z 4 2 F 1 3 Y 6 4 R 6 5 Y 4 6 V 10 7 R 6 8 D 6 9 J 7 10 E 2 pickRandomRows = function(df, numberOfRows = 10) { df %&amp;gt;% slice(runif(numberOfRows,0, length(df[,1]))) } &amp;gt; data %&amp;gt;% pickRandomRows() letter number 1 W 5 2 Y 3 3 E 6 4 Q 8 5 M 9 6 H 9 7 E 10 8 T 2 9 I 5 10 V 4 &amp;gt; data %&amp;gt;% pickRandomRows(7) letter number 1 V 7 2 N 4 3 W 1 4 N 8 5 G 7 6 V 1 7 N 7 &amp;gt; data %&amp;gt;% sample_n(10) letter number 29771 U 1 48666 T 10 30635 A 1 34865 X 7 20140 A 3 41715 T 10 43786 E 10 18284 A 7 21406 S 8 35542 J 8 </description>
    </item>
    
    <item>
      <title>R: dplyr - &#34;Variables not shown&#34;</title>
      <link>https://markhneedham.com/blog/2014/11/23/r-dplyr-variables-not-shown/</link>
      <pubDate>Sun, 23 Nov 2014 01:02:06 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2014/11/23/r-dplyr-variables-not-shown/</guid>
      <description>words = function(numberOfWords, lengthOfWord) { w = c(1:numberOfWords) for(i in 1:numberOfWords) { w[i] = paste(sample(letters, lengthOfWord, replace=TRUE), collapse = &amp;#34;&amp;#34;) } w } numberOfRows = 100 df = data.frame(a = sample (1:numberOfRows, 10, replace = TRUE), b = sample (1:numberOfRows, 10, replace = TRUE), name = words(numberOfRows, 10)) &amp;gt; df %&amp;gt;% group_by(a,b) %&amp;gt;% summarise(n = n(), words = paste(name, collapse = &amp;#34;,&amp;#34;)) %&amp;gt;% arrange(desc(n)) %&amp;gt;% head(5) Source: local data frame [5 x 4] Groups: a a b n 1 19 90 10 2 24 36 10 3 29 20 10 4 29 80 10 5 62 54 10 Variables not shown: words (chr) &amp;gt; df %&amp;gt;% group_by(a,b) %&amp;gt;% summarise(n = n(), words = paste(name, collapse = &amp;#34;,&amp;#34;)) %&amp;gt;% arrange(desc(n)) %&amp;gt;% head(5) %&amp;gt;% print(width = Inf) &amp;gt; options(dplyr.</description>
    </item>
    
  </channel>
</rss>