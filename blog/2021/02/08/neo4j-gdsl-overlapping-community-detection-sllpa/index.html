
<!DOCTYPE html>
<html lang="en-us">

    <head>

        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        
        <meta property="og:title" content="Neo4j Graph Data Science 1.5: Exploring the Speaker-Listener LPA Overlapping Community Detection Algorithm | Mark Needham" />
        <meta property="og:site_name" content="Mark Needham" />
        <meta property="og:url" content="https://www.markhneedham.com/blog/2021/02/08/neo4j-gdsl-overlapping-community-detection-sllpa/" />

    
        <meta property="og:type" content="article" />
        <meta property="og:article:published_time" content="2021-02-08T00:44:37Z" />
        <meta property="og:article:tag" content="neo4j" />
        <meta property="og:article:tag" content="graph-data-science" />
        <meta property="og:article:tag" content="graph-algorithms" />
        

        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:site" content="@markhneedham" />
        <meta name="twitter:creator" content="@markhneedham" />
        <meta name="twitter:title" content="Neo4j Graph Data Science 1.5: Exploring the Speaker-Listener LPA Overlapping Community Detection Algorithm" />
        
          <meta name="twitter:description" content="In this post we&#39;ll explore the Speaker Listener LPA overlapping community algorithm that was added to the Neo4j Graph Data Science Library in version 1.5.0." />
        
        <meta name="twitter:url" content="https://www.markhneedham.com/blog/2021/02/08/neo4j-gdsl-overlapping-community-detection-sllpa/" />

      
        
        <meta name="og:image" content="https://www.markhneedham.com/blog//uploads/2021/02/sllpa-banner.png" />
        <meta name="image" property="og:image" content="https://www.markhneedham.com/blog//uploads/2021/02/sllpa-banner.png">
        <meta name="twitter:image:src" content="https://www.markhneedham.com/blog//uploads/2021/02/sllpa-banner.png" />
        <meta name="twitter:image" content="https://www.markhneedham.com/blog//uploads/2021/02/sllpa-banner.png" />
      

    

        
        <title>Neo4j Graph Data Science 1.5: Exploring the Speaker-Listener LPA Overlapping Community Detection Algorithm | Mark Needham</title>

    
        <meta name="description" content="In this post we&#39;ll explore the Speaker Listener LPA overlapping community algorithm that was added to the Neo4j Graph Data Science Library in version 1.5.0." />
    

        <meta name="p:domain_verify" content="fc173d84e3a4de948ed4bda2908afd3e"/>
        <meta name="HandheldFriendly" content="True" />
        <meta name="MobileOptimized" content="320" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        
        

        
        
        <link href="https://www.markhneedham.com/blog/index.xml" rel="alternate" type="application/rss+xml" title="Mark Needham" />
          
        

        <link rel="canonical" href="https://www.markhneedham.com/blog/2021/02/08/neo4j-gdsl-overlapping-community-detection-sllpa/" />

    
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Article",
        "headline": "Neo4j Graph Data Science 1.5: Exploring the Speaker-Listener LPA Overlapping Community Detection Algorithm",
        "author": {
            "@type": "Person",
            "name": "http://profiles.google.com/100354797468725665406?rel=author"
        },
        "datePublished": "2021-02-08",
        "description": "The Neo4j Graph Data Science Library provides efficiently implemented, parallel versions of common graph algorithms for Neo4j, exposed as Cypher procedures. It recently published version 1.5, which introduces some fun new algorithms.\nIn this blog post, we’re going to explore the newly added Speaker-Listener Label Propagation algorithm with the help of a twitter dataset.\nLaunching Neo4j We’re going to run Neo4j with the Graph Data Science Library using the following Docker Compose configuration:",
        "wordCount":  2708 
    }
    </script>
    

    

<style>
*{padding:0;margin:0}body,html{font-size:1em;line-height:1.65em;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;font-weight:300;color:#444}html{height:100%}body{padding:2em 2.5em 1em 20em}header{border-right:1px #eee solid;padding:2em;position:fixed;top:0;left:0;height:100%;width:13.5em}#content{display:block;width:100%}footer{padding:1em 0 2.5em;font-size:.8em;line-height:1.5em;color:#888}article{border-bottom:.1em #eee solid;padding-bottom:1.7em;max-width:56em}h4,h5,h6,hr,p{margin-top:.9em;margin-bottom:.9em}h1,h2,h3,h4,h5,h6{font-family:"Bree Serif",serif;font-weight:400!important}h1{font-size:2.5em;line-height:1.1em;margin-top:.6em;margin-bottom:.6em}h2{font-size:1.9em;line-height:1.2em;margin-top:.7em;margin-bottom:.7em}h3{font-size:1.4em;line-height:1.3em;margin-top:.8em;margin-bottom:.8em}h4{font-size:1.3em}h5{font-size:1.2em}h6{font-size:1.1em}iframe,img{max-width:100%}a{font-weight:700;text-decoration:none;color:#5cc265}a:hover{text-decoration:underline}h1 a,h2 a,h3 a,h4 a,h5 a,h6 a{font-weight:400!important}strong{font-weight:700}blockquote{border-left:.4em solid #008cc1;padding-left:1.2em;font-size:1.3em}hr{border:0;height:1px;background:#eee}ol,ul{margin-left:3em}code{font-size:1.1em;max-height: 500px;background:#eee}
pre{border-radius: .5em;font-size:.8em;line-height:1.7em;background:#eee;padding:0.5em;word-break:break-all;word-wrap:break-word;white-space:pre;white-space:-moz-pre-wrap;white-space:pre-wrap}input{font-size:1em;padding:.3em}header h1{font-size:1.9em;margin-top:.8em;margin-bottom:.6em}header h1 a{color:#444}header h1 a:hover{text-decoration:none}header #logo img{width:9em;height:9em;border-radius:4.5em;-moz-border-radius:4.5em;-webkit-border-radius:4.5em;border:none}#follow-icons{font-size:.7em;margin-top:-.7em;margin-bottom:1.5em}#follow-icons a{color:#ccc}#follow-icons span{vertical-align:top;margin-left:-.15em;margin-right:-.15em}#follow-icons span .fa-stack-1x{font-size:1.05em;line-height:1.9em}header h6{margin-top:.5em}article span.post-stamp{color:#888}h1.post-title{margin-top:.35em;margin-bottom:.6em}h3.post-title{margin-top:.4em;padding-bottom:.9em;border-bottom:1px solid #eee;font-size:1.2em;color:#444}.post-title .feature-star{font-size:.9em}.feature-star,.separator,.taglist{color:#ccc}.taglist a{background-color:#ccc;color:#fff;display:inline-block;line-height:1.5em;padding:.3em .6em;vertical-align:20%;font-size:.5em;font-family:"Open Sans",sans-serif;font-weight:700!important;text-transform:uppercase;letter-spacing:.05em;border-radius:.25em;-moz-border-radius:.25em;-webkit-border-radius:.25em}#social-bar{margin-top:1.5em;background-color:#eee;padding:.5em}#comments{margin-top:.15em;padding-bottom:.2em;border-bottom:1px solid #eee}.pagination{margin-bottom:1em}footer a{font-weight:300;color:#888;text-decoration:underline}footer a:hover{color:#444;text-decoration:none}@media only screen and (min-width:1281px){body,html{font-size:1.1em}}@media only screen and (max-width:800px){body{padding:0}header{border-right:none;border-bottom:1px #eee solid;position:relative;height:auto;width:auto;text-align:center;padding-bottom:1em}#content{margin-left:0;padding:2em 2em 1em;width:auto}footer{padding:0 2.5em 2em}}@media only screen and (max-width:320px){#content,header{padding:1.2em 1.2em .6em}footer{padding:0 1.5em 1.2em}ol,ul{margin-left:2em}}
</style>

<style>
.stretch{width:100%}
table{border-collapse:collapse;border-spacing:0}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede;}
table thead,table tfoot{background:#008cc1;}
table thead tr th{background:#008cc1;}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table thead tr th {color: #ffffff;}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8);}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6;}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0; margin-top: 0;}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{margin-top: 0.5em;}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
td>div.verse{white-space:pre}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock,th.tableblock{font-size:0.8em}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#008cc1;font-weight:350;margin-top:.75em;margin-bottom:.25em}
.admonitionblock {
    margin: 0 0 1.5rem;
    border-left: 4px solid #000000;
    border-radius: .25rem;
}
.admonitionblock.note {
    background-color: #edf2f7;
    color: #19407c;
    border-left-color: #718096;
}
.admonitionblock.warning {
    background-color: #fff6e6;
    color: #19407c;
    border-left-color: #FFA500;
}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;display:none;}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}

tbody tr pre {margin-bottom: 27px}

.colist, .dlist, .exampleblock, .imageblock, .listingblock, .literalblock, .olist, .paragraph, .partintro, .quoteblock, .sidebarblock, .ulist, .verseblock {
    margin: 0 0 1.5rem;
}

.colist {
    margin: 0;
}

.colist table {
    margin: 0;
    border: none;
}

.conum { display: inline-block; color: white !important; background-color: #008cc1; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }

.colist>table tr>td:first-of-type{ border:0; min-width:0; padding:0 .75em;}
.colist>table tr>td:last-of-type{ border:0; min-width:0; padding:.25em 0}
.colist>table tr:nth-child(even) { background:0 0 }

.listingblock + .colist {
    margin-top: -0.7rem;
}
</style>

    </head>
    <body>
        <header id="header">
            <a id="logo" href="https://www.markhneedham.com/blog/"><img src="https://www.markhneedham.com/blog//me.jpg" alt="Mark Needham" /></a>
            <h1><a href="https://www.markhneedham.com/blog/">Mark Needham</a></h1>
            <p>In this post we&#39;ll explore the Speaker Listener LPA overlapping community algorithm that was added to the Neo4j Graph Data Science Library in version 1.5.0.</p>

            <div id="follow-icons">
	<a href="http://twitter.com/markhneedham" rel="me"><i class="fa fa-twitter-square fa-2x"></i></a>
	<a href="https://www.youtube.com/channel/UCKEk670ECmteGBehmDjVSSg" rel="me"><i class="fa fa-youtube-square fa-2x"></i></a>
	<a href="http://linkedin.com/in/markhneedham" rel="me"><i class="fa fa-linkedin-square fa-2x"></i></a>
	<a href="http://github.com/mneedham" rel="me"><i class="fa fa-github-square fa-2x"></i></a>
	<a href="mailto:m.h.needham@gmail.com"><i class="fa fa-envelope-square fa-2x"></i></a>
	<a href="https://www.markhneedham.com/blog/index.xml" rel="me"><i class="fa fa-rss-square fa-2x"></i></a>
</div>

            
        </header>

<main id="content">

<article id="" class="2021">
    <div class="post-stamp">
        <time datetime="2021-02-08T00:44:37Z">
            8 Feb 2021
        </time>
        <span class="taglist">
        
        &middot;
        
            <a href="https://www.markhneedham.com/blog/tag/neo4j/">neo4j</a>
        
            <a href="https://www.markhneedham.com/blog/tag/graph-data-science/">graph-data-science</a>
        
            <a href="https://www.markhneedham.com/blog/tag/graph-algorithms/">graph-algorithms</a>
        
        
        </span>
    </div>
    <h1 class="post-title">Neo4j Graph Data Science 1.5: Exploring the Speaker-Listener LPA Overlapping Community Detection Algorithm</h1>
    <div class="paragraph">
<p>The <a href="https://neo4j.com/product/graph-data-science-library/" target="_blank" rel="noopener">Neo4j Graph Data Science Library</a> provides efficiently implemented, parallel versions of common graph algorithms for Neo4j, exposed as Cypher procedures.
It recently published <a href="https://github.com/neo4j/graph-data-science/releases/tag/1.5.0" target="_blank" rel="noopener">version 1.5</a>, which introduces some fun new algorithms.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.markhneedham.com/blog/
/uploads/2021/02/sllpa-banner.png" alt="sllpa banner"/>
</div>
</div>
<div class="paragraph">
<p>In this blog post, we’re going to explore the newly added <a href="https://neo4j.com/docs/graph-data-science/1.5/algorithms/sllpa/" target="_blank" rel="noopener">Speaker-Listener Label Propagation  algorithm</a> with the help of a twitter dataset.</p>
</div>
<div class="sect1">
<h2 id="_launching_neo4j">Launching Neo4j</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We’re going to run Neo4j with the Graph Data Science Library using the following Docker Compose configuration:</p>
</div>
<div class="listingblock">
<div class="title">docker-compose.yml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">version: &#39;3.7&#39;
services:
  neo4j:
    image: neo4j:4.2.3-enterprise
    container_name: &#34;neo4j4.2-gds1.5-exploration&#34;
    volumes:
      - ./plugins-4.2:/plugins
      - ./data-4.2:/data
    ports:
      - &#34;7474:7474&#34;
      - &#34;7687:7687&#34;
    environment:
      - NEO4J_ACCEPT_LICENSE_AGREEMENT=yes
      - NEO4J_AUTH=neo4j/neo
      - NEO4JLABS_PLUGINS=[&#34;apoc&#34;, &#34;graph-data-science&#34;]</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to follow along with the examples used in the blog post, you can copy the configuration above to a file titled <code>docker-compose.yml</code>
We can now launch the Neo4j server by running the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">docker-compose up</code></pre>
</div>
</div>
<div class="paragraph">
<p>After we’ve launched that command, we need to wait until we see the following output:</p>
</div>
<div class="listingblock">
<div class="title">Output</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">neo4j4.2-gds1.5-exploration | 2021-02-03 21:39:15.346+0000 INFO  Bolt enabled on 0.0.0.0:7687.
neo4j4.2-gds1.5-exploration | 2021-02-03 21:39:16.053+0000 INFO  Remote interface available at http://localhost:7474/
neo4j4.2-gds1.5-exploration | 2021-02-03 21:39:16.053+0000 INFO  Started.</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_importing_a_twitter_social_graph">Importing a Twitter Social Graph</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We’re going to import the Twitter Social Graph that I used in the <a href="https://medium.com/neo4j/finding-influencers-and-communities-in-the-graph-community-e3d691296325" target="_blank" rel="noopener">Finding influencers and communities in the Graph Community</a> blog post that I wrote in 2019.</p>
</div>
<div class="paragraph">
<p>Let’s first connect to Neo4j using the Cypher Shell:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">docker exec -it neo4j4.2-gds1.5-exploration bin/cypher-shell -u neo4j -p neo</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Output</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">Connected to Neo4j using Bolt protocol version 4.2 at neo4j://localhost:7687 as user neo4j.
Type :help for a list of available commands or :exit to exit the shell.
Note that Cypher queries must end with a semicolon.
neo4j@neo4j&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The data for the Twitter Social Graph graph is available as a set of JSON lines files, which we can find at <a href="https://github.com/neo4j-devtools/neuler/blob/master/sample-data/twitter/users.json" class="bare">https://github.com/neo4j-devtools/neuler/blob/master/sample-data/twitter/users.json</a>.
Below is an example of one line from this file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{&#34;user&#34;:{&#34;followers&#34;:2793,&#34;following&#34;:1121,&#34;name&#34;:&#34;Synechron&#34;,&#34;bio&#34;:&#34;Synechron is a leading Digital IT Consulting firm Accelerating Digital initiatives for banks, asset managers &amp; insurance companies around the world.&#34;,&#34;id&#34;:625428620,&#34;username&#34;:&#34;Synechron&#34;},&#34;following&#34;:[],&#34;followers&#34;:[50230435,117780256,856240505826496513,31112812,999543859398037504,873919885096693761,61085452,75043311,268191768]}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We’re going to use some <a href="https://neo4j.com/labs/apoc/4.2/overview/" target="_blank" rel="noopener">APOC procedures</a> to convert these JSON files into the following graph structure:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.markhneedham.com/blog/
/uploads/2021/02/twitter-social-graph.svg" alt="twitter social graph"/>
</div>
<div class="title">Figure 1. Graph Model</div>
</div>
<div class="paragraph">
<p>Let’s first create a new database and setup some constraints to make sure we don’t end up with duplicates:</p>
</div>
<div class="listingblock">
<div class="title">Create new database and setup constraints</div>
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">CREATE OR REPLACE DATABASE twitterblogpost;
:use twitterblogpost;

CREATE CONSTRAINT ON(u:User) ASSERT u.id IS unique;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we’ll import the data:</p>
</div>
<div class="listingblock">
<div class="title">Create citations graph</div>
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">WITH &#34;https://github.com/neo4j-apps/neuler/raw/master/sample-data/twitter/users.json&#34; AS url
CALL apoc.load.json(url)
YIELD value
MERGE (u:User {id: value.user.id })
SET u += value.user
WITH u, value
CALL {
  WITH u, value
  UNWIND value.following AS following
  MERGE (f1:User {id: following})
  MERGE (u)-[:FOLLOWS]-&gt;(f1)
  RETURN count(*) AS followingCount
}
CALL {
  WITH u, value
  UNWIND value.followers AS follower
  MERGE (f2:User {id: follower})
  MERGE (u)&lt;-[:FOLLOWS]-(f2)
  RETURN count(*) AS followersCount
}
RETURN count(*) AS users;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Results</caption>
<colgroup>
<col style="width: 100%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">users</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6526</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>We can see a Neo4j Browser visualisation of the import graph in the diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.markhneedham.com/blog/
/uploads/2021/02/twitter-graph-imported.svg" alt="twitter graph imported"/>
</div>
<div class="title">Figure 2. Twitter Social Graph</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_speaker_listener_label_propagation_algorithm">Speaker Listener Label Propagation Algorithm</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://neo4j.com/docs/graph-data-science/1.5/algorithms/sllpa/" target="_blank" rel="noopener">Speaker Listener Label Propagation (SLLPA)</a> algorithm is a variation of the Label Propagation Algorithm, where instead of returning one community per node, it can return multiple communities per node.
We can alternatively say that the SLLPA algorithm detects overlapping communities.</p>
</div>
<div class="paragraph">
<p>We can find out the name of the SLLPA procedures in the GDS library by running the following query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">CALL gds.list(&#34;sllpa&#34;)
YIELD name, description;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Results</caption>
<colgroup>
<col style="width: 20%;"/>
<col style="width: 80%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;gds.alpha.sllpa.mutate&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;The Speaker Listener Label Propagation algorithm is a fast algorithm for finding overlapping communities in a graph.&#34;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;gds.alpha.sllpa.mutate.estimate&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;Returns an estimation of the memory consumption for that procedure.&#34;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;gds.alpha.sllpa.stats&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;The Speaker Listener Label Propagation algorithm is a fast algorithm for finding overlapping communities in a graph.&#34;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;gds.alpha.sllpa.stats.estimate&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;Returns an estimation of the memory consumption for that procedure.&#34;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;gds.alpha.sllpa.stream&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;The Speaker Listener Label Propagation algorithm is a fast algorithm for finding overlapping communities in a graph.&#34;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;gds.alpha.sllpa.stream.estimate&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;Returns an estimation of the memory consumption for that procedure.&#34;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;gds.alpha.sllpa.write&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;The Speaker Listener Label Propagation algorithm is a fast algorithm for finding overlapping communities in a graph.&#34;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;gds.alpha.sllpa.write.estimate&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;Returns an estimation of the memory consumption for that procedure.&#34;</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>We’re going to use the <code>gds.alpha.sllpa.write</code> procedure.
This algorithm runs the algorithm against an in-memory projected graph and stores the results as node properties.</p>
</div>
<div class="paragraph">
<p>The in-memory graph that we’re going to use will consist of <code>USER</code> nodes and the <code>FOLLOWS</code> relationships between them.
We’ll ignore the direction of the <code>FOLLOWS</code> relationship when computing communities.
We can do this by running the following query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">CALL gds.alpha.sllpa.write({
  nodeProjection: &#34;User&#34;,
  relationshipProjection: {
    FOLLOWS: {
      orientation: &#39;UNDIRECTED&#39;
    }
  },
  maxIterations: 20
})
YIELD nodePropertiesWritten, ranIterations, writeMillis, createMillis, computeMillis;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Results</caption>
<colgroup>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">nodePropertiesWritten</th>
<th class="tableblock halign-left valign-top">ranIterations</th>
<th class="tableblock halign-left valign-top">writeMillis</th>
<th class="tableblock halign-left valign-top">createMillis</th>
<th class="tableblock halign-left valign-top">computeMillis</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6526</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">478</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>By default, results are written to the <code>pregel_communityids</code> property.
We can have a look at some of these values by running the following query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">MATCH (user:User)
RETURN user.username, user.pregel_communityIds
LIMIT 5;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Results</caption>
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">user.username</th>
<th class="tableblock halign-left valign-top">user.pregel_communityIds</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;webmink&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[119]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;Synechron&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[119]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;flablog&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[185, 119]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;didierdaglinckx&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[3]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;DailyPythonInfo&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[119]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>webmink, Synechron, didierdaglinckx, and DailyPythonInfo all belong to only one community, whereas flablog belongs to a couple of communities.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_many_users_belong_to_multiple_communities">How many users belong to multiple communities?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I wonder how many other users belong to multiple communities?
We can find out by running the following query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">MATCH (u:User)
WITH count(*) AS totalCount
MATCH (u:User)
WITH totalCount, size(u.pregel_communityIds) as communities, count(*) AS count
RETURN communities, count, round(count * 100.0 / totalCount, 2) AS percentage
ORDER BY communities;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Results</caption>
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">communities</th>
<th class="tableblock halign-left valign-top">count</th>
<th class="tableblock halign-left valign-top">percentage</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5703</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.39</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">801</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.27</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>We can also use <a href="https://nielsdejong.nl/neodash/" target="_blank" rel="noopener">Niels de Jong’s NeoDash</a> to create a quick bar chart of these results:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.markhneedham.com/blog/
/uploads/2021/02/community-size-frequency.png" alt="community size frequency"/>
</div>
<div class="title">Figure 3. Community Size Frequency</div>
</div>
<div class="paragraph">
<p>A massive majority of nodes have only one community, just over 10% have two communities, and only 0.3% fit into three communities.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_community_graph">Create community graph</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let’s have a look at the communities in more detail.
We’re going to add the graph structure coloured in red in the diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.markhneedham.com/blog/
/uploads/2021/02/twitter-social-graph-communities.svg" alt="twitter social graph communities"/>
</div>
<div class="title">Figure 4. Graph Model with communities</div>
</div>
<div class="paragraph">
<p>We’ll first create a unique constraint on the <code>id</code> property for the <code>Community</code> label:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">CREATE CONSTRAINT ON (c:Community) ASSERT c.id IS UNIQUE;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And now we can create a <code>Community</code> node for each community and an <code>IN_COMMUNITY</code> relationship from each user to the communities that they belong to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">MATCH (u:User)
UNWIND u.pregel_communityIds AS communityId
MERGE (c:Community {id: communityId})
MERGE (u)-[:IN_COMMUNITY]-&gt;(c);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Output</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">0 rows available after 299 ms, consumed after another 0 ms
Added 1028 nodes, Created 7371 relationships, Set 1028 properties, Added 1028 labels</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can see a Neo4j Browser visualisation of the new graph structure in the diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.markhneedham.com/blog/
/uploads/2021/02/multi-communities.svg" alt="multi communities"/>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_find_important_users">Find important users</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I find that the best way to do community analysis is to look at the important nodes that belong to each one.
We can compute the important nodes by running the PageRank algorithm, as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">CALL gds.pageRank.write({
  nodeProjection: &#34;User&#34;,
  relationshipProjection: &#34;FOLLOWS&#34;,
  maxIterations: 20,
  writeProperty: &#34;pagerank&#34;
})
YIELD writeMillis, nodePropertiesWritten, ranIterations,
      postProcessingMillis, createMillis, computeMillis;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Results</caption>
<colgroup>
<col style="width: 16.6666%;"/>
<col style="width: 16.6666%;"/>
<col style="width: 16.6666%;"/>
<col style="width: 16.6666%;"/>
<col style="width: 16.6666%;"/>
<col style="width: 16.667%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">writeMillis</th>
<th class="tableblock halign-left valign-top">nodePropertiesWritten</th>
<th class="tableblock halign-left valign-top">ranIterations</th>
<th class="tableblock halign-left valign-top">postProcessingMillis</th>
<th class="tableblock halign-left valign-top">createMillis</th>
<th class="tableblock halign-left valign-top">computeMillis</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6526</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">111</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Each of the <code>User</code> nodes now has a <code>pagerank</code> property.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_individual_communities">Individual communities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We can use this property as part of a query to find the top 5 users per community, as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">MATCH (:User) WITH count(*) AS allUsers
MATCH (c:Community)&lt;-[:IN_COMMUNITY]-(u:User)
WITH allUsers, c, u
ORDER BY c, u.pagerank DESC
WITH allUsers, c, collect(u) AS users
RETURN c.id, size(users) AS users,
       round(size(users)*100.0 / allUsers, 3) AS percentage,
       [u IN users | u {.username, score: round(u.pagerank, 3)}][..5] AS topUsers
ORDER BY size(users) DESC
LIMIT 10;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Results</caption>
<colgroup>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 70%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">c.id</th>
<th class="tableblock halign-left valign-top">users</th>
<th class="tableblock halign-left valign-top">percentage</th>
<th class="tableblock halign-left valign-top">topUsers</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3960</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60.68</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 46.822, username: &#34;TechCrunch&#34;}, {score: 33.246, username: &#34;awscloud&#34;}, {score: 22.015, username: &#34;hmason&#34;}, {score: 20.332, username: &#34;kellabyte&#34;}, {score: 17.816, username: &#34;KirkDBorne&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">157</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1152</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17.652</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 46.105, username: &#34;neo4j&#34;}, {score: 25.847, username: &#34;emileifrem&#34;}, {score: 23.085, username: &#34;mesirii&#34;}, {score: 15.83, username: &#34;GraphConnect&#34;}, {score: 14.879, username: &#34;jimwebber&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">636</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.746</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 14.666, username: &#34;jessitron&#34;}, {score: 10.754, username: &#34;WardCunningham&#34;}, {score: 9.464, username: &#34;springrod&#34;}, {score: 8.98, username: &#34;starbuxman&#34;}, {score: 8.528, username: &#34;garybernhardt&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">144</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">212</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.249</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 12.834, username: &#34;danbri&#34;}, {score: 6.759, username: &#34;ontotext&#34;}, {score: 6.198, username: &#34;StardogHQ&#34;}, {score: 6.113, username: &#34;kidehen&#34;}, {score: 5.223, username: &#34;juansequeda&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.471</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 3.431, username: &#34;_wald0&#34;}, {score: 2.753, username: &#34;Cyb3rWard0g&#34;}, {score: 2.582, username: &#34;ItsReallyNick&#34;}, {score: 2.302, username: &#34;TheColonial&#34;}, {score: 1.86, username: &#34;DanielGallagher&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">91</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">46</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.705</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 0.358, username: &#34;margueritegg&#34;}, {score: 0.3, username: &#34;budejicky&#34;}, {score: 0.26, username: &#34;politicalHEDGE&#34;}, {score: 0.246, username: &#34;420Cyber&#34;}, {score: 0.237, username: &#34;CryptoTrackerBt&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">81</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.506</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 2.447, username: &#34;vaaaaanquish&#34;}, {score: 0.903, username: &#34;<em>snow_rabbit</em>&#34;}, {score: 0.841, username: &#34;Moririn47273285&#34;}, {score: 0.604, username: &#34;OSS_News&#34;}, {score: 0.591, username: &#34;shiget84&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1747</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.429</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 0.278, username: &#34;tech__lib&#34;}, {score: 0.15, username: &#34;niturkan&#34;}, {score: 0.15, username: &#34;djoman_fidele&#34;}, {score: 0.15, username: &#34;scholarsuniv&#34;}, {score: 0.15, username: &#34;seantabatabai&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">250</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.414</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 1.666, username: &#34;anwagnerdreas&#34;}, {score: 1.243, username: &#34;patrick_sahle&#34;}, {score: 1.097, username: &#34;Mareike2405&#34;}, {score: 1.088, username: &#34;AndreasKuczera&#34;}, {score: 1.04, username: &#34;fthierygeo&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1160</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.337</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 2.357, username: &#34;Silkjaer&#34;}, {score: 1.681, username: &#34;Hodor&#34;}, {score: 1.414, username: &#34;HammerToe&#34;}, {score: 1.262, username: &#34;XrpCenter&#34;}, {score: 1.036, username: &#34;DevNullProd&#34;}]</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>Community 119 looks like it could be a Data Science cluster, but it also has very popular tech accounts.</p>
</li>
<li>
<p>Community 157 is full of Neo4j folks</p>
</li>
<li>
<p>Community 34 has people that are big in the Spring world</p>
</li>
<li>
<p>Community 22 looks like it has people doing security work</p>
</li>
<li>
<p>Community 144 is all about the semantic web and triple stores</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overlapping_communities">Overlapping communities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let’s now have a look at community overlap.
We can compute the biggest overlaps between communities, by running the following query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">MATCH (c1:Community)&lt;-[:IN_COMMUNITY]-(u)-[:IN_COMMUNITY]-&gt;(c2:Community)
WHERE id(c1) &lt; id(c2)
WITH c1, c2, count(*) AS count
ORDER BY count DESC
LIMIT 20
CALL apoc.create.vRelationship(c1, &#34;COMMON&#34;, {count: count}, c2)
YIELD rel
RETURN c1, rel, c2;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can see the results of running this query in the Neo4j Browser below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.markhneedham.com/blog/
/uploads/2021/02/overlapping-communities.svg" alt="overlapping communities"/>
</div>
<div class="title">Figure 5. Overlapping communities</div>
</div>
<div class="paragraph">
<p>The biggest overlap is between community 119 (Data Science/Popular Tech) and communities 34 (Spring) and 157 (Neo4j).
The absolute overlap numbers between communities are much lower after that.
We can compute similarity scores between the communities using the <a href="https://neo4j.com/docs/graph-data-science/1.5/alpha-algorithms/jaccard/" target="_blank" rel="noopener">Jaccard Similarity algorithm</a>, as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">MATCH (c1:Community), (c2:Community)
WHERE id(c1) &lt; id(c2)
WITH c1, c2, gds.alpha.similarity.jaccard(
  [(c1)&lt;-[:IN_COMMUNITY]-(u) | id(u)],
  [(c2)&lt;-[:IN_COMMUNITY]-(u) | id(u)]) AS score
WHERE score &gt; 0
MERGE (c1)-[similar:SIMILAR]-(c2)
SET similar.score = score;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This query computes the similarity betweeen <code>Community</code> nodes based on the users that they have in common and then creates a <code>SIMILAR</code> relationship between those <code>Community</code> nodes.
We can see the results of running this query in the Neo4j Browser below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.markhneedham.com/blog/
/uploads/2021/02/node-similarity.svg" alt="node similarity"/>
</div>
<div class="title">Figure 6. Overlapping communities - Jaccard Similarity</div>
</div>
<div class="paragraph">
<p>From this visualisation we can see that the overlap is tiny between community 119 and the others.
The biggest similarity is 0.05 between community 119 and community 34, but the other similarities are much smaller.
We can create a table of similarities by running the following query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">MATCH (c1:Community)&lt;-[:IN_COMMUNITY]-(u)-[:IN_COMMUNITY]-&gt;(c2:Community)
WHERE id(c1) &lt; id(c2)
WITH c1, c2, count(*) AS count
ORDER BY count DESC
LIMIT 20
MATCH (c1)-[similar:SIMILAR]-(c2)
RETURN c1.id, c2.id, count, round(similar.score, 3) AS score
ORDER BY score DESC
LIMIT 10;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Results</caption>
<colgroup>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">c1.id</th>
<th class="tableblock halign-left valign-top">c2.id</th>
<th class="tableblock halign-left valign-top">count</th>
<th class="tableblock halign-left valign-top">score</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">498</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">107</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">228</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.052</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">157</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">187</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.038</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">46</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.012</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">157</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.011</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.009</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">144</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.009</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1747</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.007</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">157</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">144</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.006</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">81</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.005</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>There’s 100% overlap in the users in community 498 and community 107, but those communities only have 3 nodes!
The general amount of overlap is very small.</p>
</div>
<div class="paragraph">
<p>Next we’re going to have a look at the highest-ranking users that belong to two communities.
We can compute this by running the following query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">MATCH (c1:Community)&lt;-[:IN_COMMUNITY]-(u)-[:IN_COMMUNITY]-&gt;(c2:Community)
WHERE id(c1) &lt; id(c2)
WITH c1, c2, count(*) AS count, apoc.coll.sortNodes(collect(u), &#34;pagerank&#34;)[..5] AS topNodes
RETURN c1.id, c2.id, count,
       [node in topNodes | node {.username, score: round(node.pagerank, 3)}] AS topNodes
ORDER BY count DESC
LIMIT 10;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Results</caption>
<colgroup>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 70%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">c1.id</th>
<th class="tableblock halign-left valign-top">c2.id</th>
<th class="tableblock halign-left valign-top">count</th>
<th class="tableblock halign-left valign-top">topNodes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">228</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 14.666, username: &#34;jessitron&#34;}, {score: 10.754, username: &#34;WardCunningham&#34;}, {score: 8.528, username: &#34;garybernhardt&#34;}, {score: 6.882, username: &#34;InfoQ&#34;}, {score: 4.005, username: &#34;skillsmatter&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">157</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">187</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 6.681, username: &#34;arcadeanalytics&#34;}, {score: 4.694, username: &#34;arangodb&#34;}, {score: 4.55, username: &#34;irregularbi&#34;}, {score: 3.915, username: &#34;CamSemantics&#34;}, {score: 3.7, username: &#34;CluedInHQ&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">46</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 0.358, username: &#34;margueritegg&#34;}, {score: 0.3, username: &#34;budejicky&#34;}, {score: 0.26, username: &#34;politicalHEDGE&#34;}, {score: 0.246, username: &#34;420Cyber&#34;}, {score: 0.237, username: &#34;CryptoTrackerBt&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">144</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 3.195, username: &#34;Synaptica&#34;}, {score: 1.208, username: &#34;mrgunn&#34;}, {score: 1.126, username: &#34;agentGav&#34;}, {score: 0.684, username: &#34;richdijkstra&#34;}, {score: 0.544, username: &#34;h2cm&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 1.437, username: &#34;s7ephen&#34;}, {score: 0.983, username: &#34;d4rkm4tter&#34;}, {score: 0.978, username: &#34;virusbtn&#34;}, {score: 0.919, username: &#34;CVEnew&#34;}, {score: 0.795, username: &#34;InsanityBit&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1747</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 0.278, username: &#34;tech__lib&#34;}, {score: 0.15, username: &#34;niturkan&#34;}, {score: 0.15, username: &#34;djoman_fidele&#34;}, {score: 0.15, username: &#34;scholarsuniv&#34;}, {score: 0.15, username: &#34;seantabatabai&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">81</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 2.447, username: &#34;vaaaaanquish&#34;}, {score: 0.604, username: &#34;OSS_News&#34;}, {score: 0.591, username: &#34;shiget84&#34;}, {score: 0.584, username: &#34;kabukawa&#34;}, {score: 0.424, username: &#34;insomnyan&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">157</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 2.631, username: &#34;delitescere&#34;}, {score: 2.424, username: &#34;j_palka&#34;}, {score: 2.398, username: &#34;patbaumgartner&#34;}, {score: 0.844, username: &#34;hackcommitpush&#34;}, {score: 0.673, username: &#34;svzdvd&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3361</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 0.159, username: &#34;hnbot&#34;}, {score: 0.159, username: &#34;Hn150&#34;}, {score: 0.159, username: &#34;SpacedadUNI&#34;}, {score: 0.159, username: &#34;TradeFlo&#34;}, {score: 0.159, username: &#34;nplexROC&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">209</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 0.815, username: &#34;matt_zeus&#34;}, {score: 0.698, username: &#34;stereocat&#34;}, {score: 0.675, username: &#34;hi86074659&#34;}, {score: 0.552, username: &#34;tetoran6&#34;}, {score: 0.419, username: &#34;qb0C80aE&#34;}]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="https://twitter.com/jessitron" target="_blank" rel="noopener">@jessitron</a> and <a href="https://twitter.com/wardcunningham" target="_blank" rel="noopener">@wardcunningham</a> belong to communities 119 (Data Science/Popular Tech) and 34 (Spring).
<a href="https://twitter.com/arcadeanalytics" target="_blank" rel="noopener">@arcadeanalytics</a>, <a href="https://twitter.com/arangodb" target="_blank" rel="noopener">@arangodb</a>, and <a href="https://twitter.com/CluedInHQ">@CluedInHQ</a> all do work around graph databases, so they end up overlapping communities 119 (Data Science/Popular Tech) and 57 (Neo4j).</p>
</div>
<div class="paragraph">
<p>It would be interesting to see how strongly they belong in each community.
The algorithm does compute an association strength score per node per community, but that score isn’t returned (at least at the moment!).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_do_we_use_overlapping_community_detection">How do we use overlapping community detection?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So how do we use the results that we get from this algorithm?
One way is to use this algorithm to work out which users to follow to learn about other communities.
If we pick users who overlap with our community, those users may be better advocates for that community (from our perspective) than the top-ranked users in that community.</p>
</div>
<div class="paragraph">
<p>For example, if we’re a member of the Neo4j community, we could find fellow Neo4j users that interact with other communities, by running the following query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">MATCH (c1:Community {id: 157})&lt;-[:IN_COMMUNITY]-(u)-[:IN_COMMUNITY]-&gt;(c2:Community)
WITH c1, c2, count(*) AS count, apoc.coll.sortNodes(collect(u), &#34;pagerank&#34;)[..10] AS topNodes
RETURN c2.id, count,
       [node in topNodes | node {.username, score: round(node.pagerank, 3)}] AS topNodes
ORDER BY count DESC
LIMIT 10;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Results</caption>
<colgroup>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 80%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">c2.id</th>
<th class="tableblock halign-left valign-top">count</th>
<th class="tableblock halign-left valign-top">topNodes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">187</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 6.681, username: &#34;arcadeanalytics&#34;}, {score: 4.694, username: &#34;arangodb&#34;}, {score: 4.55, username: &#34;irregularbi&#34;}, {score: 3.915, username: &#34;CamSemantics&#34;}, {score: 3.7, username: &#34;CluedInHQ&#34;}, {score: 2.89, username: &#34;agm1984&#34;}, {score: 2.882, username: &#34;micahstubbs&#34;}, {score: 2.208, username: &#34;newsyc50&#34;}, {score: 2.077, username: &#34;gijn&#34;}, {score: 2.013, username: &#34;jwyg&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 2.631, username: &#34;delitescere&#34;}, {score: 2.424, username: &#34;j_palka&#34;}, {score: 2.398, username: &#34;patbaumgartner&#34;}, {score: 0.844, username: &#34;hackcommitpush&#34;}, {score: 0.673, username: &#34;svzdvd&#34;}, {score: 0.643, username: &#34;tonyennis&#34;}, {score: 0.434, username: &#34;jgerity&#34;}, {score: 0.345, username: &#34;gasi&#34;}, {score: 0.298, username: &#34;softvisresearch&#34;}, {score: 0.279, username: &#34;rafalkoko&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">144</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 0.743, username: &#34;PMissier&#34;}, {score: 0.544, username: &#34;intermineorg&#34;}, {score: 0.343, username: &#34;ConTechLive&#34;}, {score: 0.338, username: &#34;justin_littman&#34;}, {score: 0.226, username: &#34;yooj0907&#34;}, {score: 0.213, username: &#34;imo_weg&#34;}, {score: 0.184, username: &#34;webdevOp&#34;}, {score: 0.15, username: &#34;MahekHanfi&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1558</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 0.366, username: &#34;liayeaaah&#34;}, {score: 0.254, username: &#34;King_Sloth95&#34;}, {score: 0.254, username: &#34;yasabdulkadir&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1097</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 0.311, username: &#34;BiintAbib&#34;}, {score: 0.242, username: &#34;Fall__yaaram&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">266</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 0.211, username: &#34;i18nsolutions&#34;}, {score: 0.166, username: &#34;HarishMinions20&#34;}]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 3.431, username: &#34;_wald0&#34;}, {score: 0.15, username: &#34;atatrdp&#34;}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3846</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 0.15, username: &#34;iamarvil&#34;}, {score: 0.15, username: &#34;JETZT_PRde&#34;}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3281</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 0.15, username: &#34;AlanPowiatowy&#34;}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1226</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[{score: 0.15, username: &#34;LearnPHPOnline_&#34;}]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The top users in community 119 are generally popular tech accounts, but the overlap with the Neo4j community returns other folks doing graph database work.
If we want to learn about Spring, <a href="https://twitter.com/delitescere" target="_blank" rel="noopener">@delitescere</a> and <a href="https://twitter.com/patbaumgartner" target="_blank" rel="noopener">@patbaumgartner</a> would be good people to follow.
And if we’re interested in semantic web, <a href="https://twitter.com/pmissier" target="_blank" rel="noopener">@Pmissier</a> or <a href="https://twitter.com/intermineorg" target="_blank" rel="noopener">@intermineorg</a> would be good bets.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_in_summary">In Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I first came across this algorithm about 18 months ago and thought it looked awesome, so I’m happy to see it added to the Graph Data Science Library.
It seems to find only slight overlap between communities, so I’m not sure how well it’d do if there were communities with very similar members.</p>
</div>
<div class="paragraph">
<p>We’ve only looked at one use case for it in this blog post, but I’m sure there are others as well.
Let me know if you have any questions/ideas in the comments.</p>
</div>
</div>
</div>

    <div id="social-bar">
	<ul class="rrssb-buttons clearfix">
      <li class="email">
          <a href="mailto:?subject=Neo4j%20Graph%20Data%20Science%201.5%3a%20Exploring%20the%20Speaker-Listener%20LPA%20Overlapping%20Community%20Detection%20Algorithm&amp;body=https://www.markhneedham.com/blog/2021/02/08/neo4j-gdsl-overlapping-community-detection-sllpa/">
              <span class="icon">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                      <path transform="scale(0.014,-0.014) translate(0,-1670)" d="M1792 826v-794q0 -66 -47 -113t-113 -47h-1472q-66 0 -113 47t-47 113v794q44 -49 101 -87q362 -246 497 -345q57 -42 92.5 -65.5t94.5 -48t110 -24.5h1h1q51 0 110 24.5t94.5 48t92.5 65.5q170 123 498 345q57 39 100 87zM1792 1120q0 -79 -49 -151t-122 -123 q-376 -261 -468 -325q-10 -7 -42.5 -30.5t-54 -38t-52 -32.5t-57.5 -27t-50 -9h-1h-1q-23 0 -50 9t-57.5 27t-52 32.5t-54 38t-42.5 30.5q-91 64 -262 182.5t-205 142.5q-62 42 -117 115.5t-55 136.5q0 78 41.5 130t118.5 52h1472q65 0 112.5 -47t47.5 -113z"/>
                  </svg>
              </span>
              <span class="text">Email</span>
          </a>
      </li>
      <li class="facebook">
          <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.markhneedham.com/blog/2021/02/08/neo4j-gdsl-overlapping-community-detection-sllpa/" class="popup">
              <span class="icon">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                      <path d="M27.825,4.783c0-2.427-2.182-4.608-4.608-4.608H4.783c-2.422,0-4.608,2.182-4.608,4.608v18.434 c0,2.427,2.181,4.608,4.608,4.608H14V17.379h-3.379v-4.608H14v-1.795c0-3.089,2.335-5.885,5.192-5.885h3.718v4.608h-3.726 c-0.408,0-0.884,0.492-0.884,1.236v1.836h4.609v4.608h-4.609v10.446h4.916c2.422,0,4.608-2.188,4.608-4.608V4.783z"/>
                  </svg>
              </span>
              <span class="text">Facebook</span>
          </a>
      </li>
			<li class="twitter">
          <a href="http://twitter.com/home?status=Neo4j%20Graph%20Data%20Science%201.5%3a%20Exploring%20the%20Speaker-Listener%20LPA%20Overlapping%20Community%20Detection%20Algorithm%20https://www.markhneedham.com/blog/2021/02/08/neo4j-gdsl-overlapping-community-detection-sllpa/" class="popup">
              <span class="icon">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
		                  <path d="M24.253,8.756C24.689,17.08,18.297,24.182,9.97,24.62c-3.122,0.162-6.219-0.646-8.861-2.32 c2.703,0.179,5.376-0.648,7.508-2.321c-2.072-0.247-3.818-1.661-4.489-3.638c0.801,0.128,1.62,0.076,2.399-0.155 C4.045,15.72,2.215,13.6,2.115,11.077c0.688,0.275,1.426,0.407,2.168,0.386c-2.135-1.65-2.729-4.621-1.394-6.965 C5.575,7.816,9.54,9.84,13.803,10.071c-0.842-2.739,0.694-5.64,3.434-6.482c2.018-0.623,4.212,0.044,5.546,1.683 c1.186-0.213,2.318-0.662,3.329-1.317c-0.385,1.256-1.247,2.312-2.399,2.942c1.048-0.106,2.069-0.394,3.019-0.851 C26.275,7.229,25.39,8.196,24.253,8.756z"/>
                  </svg>
              </span>
              <span class="text">Twitter</span>
          </a>
      </li>
			<li class="linkedin">
          <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.markhneedham.com/blog/2021/02/08/neo4j-gdsl-overlapping-community-detection-sllpa/&amp;title=Neo4j%20Graph%20Data%20Science%201.5%3a%20Exploring%20the%20Speaker-Listener%20LPA%20Overlapping%20Community%20Detection%20Algorithm&amp;summary=The%20Neo4j%20Graph%20Data%20Science%20Library%20provides%20efficiently%20implemented%2c%20parallel%20versions%20of%20common%20graph%20algorithms%20for%20Neo4j%2c%20exposed%20as%20Cypher%20procedures.%20It%20recently%20published%20version%201.5%2c%20which%20introduces%20some%20fun%20new%20algorithms.%0aIn%20this%20blog%20post%2c%20we%e2%80%99re%20going%20to%20explore%20the%20newly%20added%20Speaker-Listener%20Label%20Propagation%20algorithm%20with%20the%20help%20of%20a%20twitter%20dataset.%0aLaunching%20Neo4j%20We%e2%80%99re%20going%20to%20run%20Neo4j%20with%20the%20Graph%20Data%20Science%20Library%20using%20the%20following%20Docker%20Compose%20configuration%3a..." class="popup">
              <span class="icon">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                      <path d="M25.424,15.887v8.447h-4.896v-7.882c0-1.979-0.709-3.331-2.48-3.331c-1.354,0-2.158,0.911-2.514,1.803 c-0.129,0.315-0.162,0.753-0.162,1.194v8.216h-4.899c0,0,0.066-13.349,0-14.731h4.899v2.088c-0.01,0.016-0.023,0.032-0.033,0.048 h0.033V11.69c0.65-1.002,1.812-2.435,4.414-2.435C23.008,9.254,25.424,11.361,25.424,15.887z M5.348,2.501 c-1.676,0-2.772,1.092-2.772,2.539c0,1.421,1.066,2.538,2.717,2.546h0.032c1.709,0,2.771-1.132,2.771-2.546 C8.054,3.593,7.019,2.501,5.343,2.501H5.348z M2.867,24.334h4.897V9.603H2.867V24.334z"/>
                  </svg>
              </span>
              <span class="text">LinkedIn</span>
          </a>
      </li>
      <li class="tumblr">
					<script>
						document.write('<a href="http://www.tumblr.com/share?v=3&amp;u=' + encodeURIComponent('https:\/\/www.markhneedham.com\/blog\/2021\/02\/08\/neo4j-gdsl-overlapping-community-detection-sllpa\/') + '&amp;t=Neo4j Graph Data Science 1.5: Exploring the Speaker-Listener LPA Overlapping Community Detection Algorithm" class="popup">');
					</script>
              <span class="icon">
                  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
											<path d="M18.02 21.842c-2.029 0.052-2.422-1.396-2.439-2.446v-7.294h4.729V7.874h-4.71V1.592c0 0-3.653 0-3.714 0 s-0.167 0.053-0.182 0.186c-0.218 1.935-1.144 5.33-4.988 6.688v3.637h2.927v7.677c0 2.8 1.7 6.7 7.3 6.6 c1.863-0.03 3.934-0.795 4.392-1.453l-1.22-3.539C19.595 21.6 18.7 21.8 18 21.842z"/>
									</svg>
              </span>
              <span class="text">Tumblr</span>
          <script>document.write('</a>');</script>
      </li>
      <li class="reddit">
          <a href="http://www.reddit.com/submit?url=https://www.markhneedham.com/blog/2021/02/08/neo4j-gdsl-overlapping-community-detection-sllpa/">
              <span class="icon">
                  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
											<g>
													<path d="M11.794 15.316c0-1.029-0.835-1.895-1.866-1.895c-1.03 0-1.893 0.865-1.893 1.895s0.863 1.9 1.9 1.9 C10.958 17.2 11.8 16.3 11.8 15.316z"/>
													<path d="M18.1 13.422c-1.029 0-1.895 0.864-1.895 1.895c0 1 0.9 1.9 1.9 1.865c1.031 0 1.869-0.836 1.869-1.865 C19.969 14.3 19.1 13.4 18.1 13.422z"/>
													<path d="M17.527 19.791c-0.678 0.678-1.826 1.006-3.514 1.006c-0.004 0-0.009 0-0.014 0c-0.004 0-0.01 0-0.015 0 c-1.686 0-2.834-0.328-3.51-1.005c-0.264-0.265-0.693-0.265-0.958 0c-0.264 0.265-0.264 0.7 0 1 c0.943 0.9 2.4 1.4 4.5 1.402c0.005 0 0 0 0 0c0.005 0 0 0 0 0c2.066 0 3.527-0.459 4.47-1.402 c0.265-0.264 0.265-0.693 0.002-0.958C18.221 19.5 17.8 19.5 17.5 19.791z"/>
													<path d="M27.707 13.267c0-1.785-1.453-3.237-3.236-3.237c-0.793 0-1.518 0.287-2.082 0.761c-2.039-1.295-4.646-2.069-7.438-2.219 l1.483-4.691l4.062 0.956c0.071 1.4 1.3 2.6 2.7 2.555c1.488 0 2.695-1.208 2.695-2.695C25.881 3.2 24.7 2 23.2 2 c-1.059 0-1.979 0.616-2.42 1.508l-4.633-1.091c-0.344-0.081-0.693 0.118-0.803 0.455l-1.793 5.7 C10.548 8.6 7.7 9.4 5.6 10.75C5.006 10.3 4.3 10 3.5 10.029c-1.785 0-3.237 1.452-3.237 3.2 c0 1.1 0.6 2.1 1.4 2.69c-0.04 0.272-0.061 0.551-0.061 0.831c0 2.3 1.3 4.4 3.7 5.9 c2.299 1.5 5.3 2.3 8.6 2.325c3.228 0 6.271-0.825 8.571-2.325c2.387-1.56 3.7-3.66 3.7-5.917 c0-0.26-0.016-0.514-0.051-0.768C27.088 15.5 27.7 14.4 27.7 13.267z M23.186 3.355c0.74 0 1.3 0.6 1.3 1.3 c0 0.738-0.6 1.34-1.34 1.34s-1.342-0.602-1.342-1.34C21.844 4 22.4 3.4 23.2 3.355z M1.648 13.3 c0-1.038 0.844-1.882 1.882-1.882c0.31 0 0.6 0.1 0.9 0.209c-1.049 0.868-1.813 1.861-2.26 2.9 C1.832 14.2 1.6 13.8 1.6 13.267z M21.773 21.57c-2.082 1.357-4.863 2.105-7.831 2.105c-2.967 0-5.747-0.748-7.828-2.105 c-1.991-1.301-3.088-3-3.088-4.782c0-1.784 1.097-3.484 3.088-4.784c2.081-1.358 4.861-2.106 7.828-2.106 c2.967 0 5.7 0.7 7.8 2.106c1.99 1.3 3.1 3 3.1 4.784C24.859 18.6 23.8 20.3 21.8 21.57z M25.787 14.6 c-0.432-1.084-1.191-2.095-2.244-2.977c0.273-0.156 0.59-0.245 0.928-0.245c1.035 0 1.9 0.8 1.9 1.9 C26.354 13.8 26.1 14.3 25.8 14.605z"/>
											</g>
									</svg>
              </span>
              <span class="text">Reddit</span>
          </a>
      </li>
      <li class="googleplus">
          <a href="https://plus.google.com/share?url=https://www.markhneedham.com/blog/2021/02/08/neo4j-gdsl-overlapping-community-detection-sllpa/" class="popup">
              <span class="icon">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                      <g>
                          <path d="M14.703,15.854l-1.219-0.948c-0.372-0.308-0.88-0.715-0.88-1.459c0-0.748,0.508-1.223,0.95-1.663 c1.42-1.119,2.839-2.309,2.839-4.817c0-2.58-1.621-3.937-2.399-4.581h2.097l2.202-1.383h-6.67c-1.83,0-4.467,0.433-6.398,2.027 C3.768,4.287,3.059,6.018,3.059,7.576c0,2.634,2.022,5.328,5.604,5.328c0.339,0,0.71-0.033,1.083-0.068 c-0.167,0.408-0.336,0.748-0.336,1.324c0,1.04,0.551,1.685,1.011,2.297c-1.524,0.104-4.37,0.273-6.467,1.562 c-1.998,1.188-2.605,2.916-2.605,4.137c0,2.512,2.358,4.84,7.289,4.84c5.822,0,8.904-3.223,8.904-6.41 c0.008-2.327-1.359-3.489-2.829-4.731H14.703z M10.269,11.951c-2.912,0-4.231-3.765-4.231-6.037c0-0.884,0.168-1.797,0.744-2.511 c0.543-0.679,1.489-1.12,2.372-1.12c2.807,0,4.256,3.798,4.256,6.242c0,0.612-0.067,1.694-0.845,2.478 c-0.537,0.55-1.438,0.948-2.295,0.951V11.951z M10.302,25.609c-3.621,0-5.957-1.732-5.957-4.142c0-2.408,2.165-3.223,2.911-3.492 c1.421-0.479,3.25-0.545,3.555-0.545c0.338,0,0.52,0,0.766,0.034c2.574,1.838,3.706,2.757,3.706,4.479 c-0.002,2.073-1.736,3.665-4.982,3.649L10.302,25.609z"/>
                          <polygon points="23.254,11.89 23.254,8.521 21.569,8.521 21.569,11.89 18.202,11.89 18.202,13.604 21.569,13.604 21.569,17.004 23.254,17.004 23.254,13.604 26.653,13.604 26.653,11.89"/>
                      </g>
                  </svg>
              </span>
              <span class="text">Google+</span>
          </a>
      </li>
      <li class="pinterest">
          <script>
						var imgurl = "https:\/\/www.markhneedham.com\/blog\/logo.png";
						var firstimg = document.getElementsByClassName("2021")[0].getElementsByTagName("img")[0];
						if (firstimg !== undefined) {
							imgurl = firstimg.src;
						}
						document.write('<a href="http://pinterest.com/pin/create/button/?url=https:\/\/www.markhneedham.com\/blog\/2021\/02\/08\/neo4j-gdsl-overlapping-community-detection-sllpa\/&amp;media=' + imgurl + '&amp;description=Neo4j Graph Data Science 1.5: Exploring the Speaker-Listener LPA Overlapping Community Detection Algorithm" class="popup">');
					</script>
              <span class="icon">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
		                  <path d="M14.021,1.57C6.96,1.57,1.236,7.293,1.236,14.355c0,7.062,5.724,12.785,12.785,12.785c7.061,0,12.785-5.725,12.785-12.785 C26.807,7.294,21.082,1.57,14.021,1.57z M15.261,18.655c-1.161-0.09-1.649-0.666-2.559-1.219c-0.501,2.626-1.113,5.145-2.925,6.458 c-0.559-3.971,0.822-6.951,1.462-10.116c-1.093-1.84,0.132-5.545,2.438-4.632c2.837,1.123-2.458,6.842,1.099,7.557 c3.711,0.744,5.227-6.439,2.925-8.775c-3.325-3.374-9.678-0.077-8.897,4.754c0.19,1.178,1.408,1.538,0.489,3.168 C7.165,15.378,6.53,13.7,6.611,11.462c0.131-3.662,3.291-6.227,6.46-6.582c4.007-0.448,7.771,1.474,8.29,5.239 c0.579,4.255-1.816,8.865-6.102,8.533L15.261,18.655z"/>
                  </svg>
              </span>
              <span class="text">Pinterest</span>
          <script>document.write('</a>');</script>
      </li>
      <li class="pocket">
          <a href="https://getpocket.com/save?url=https://www.markhneedham.com/blog/2021/02/08/neo4j-gdsl-overlapping-community-detection-sllpa/"  class="popup">
              <span class="icon">
                  <svg width="32px" height="28px" viewBox="0 0 32 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                      <path d="M28.7817528,0.00172488695 C30.8117487,0.00431221738 31.9749312,1.12074529 31.9644402,3.10781507 C31.942147,6.67703739 32.1336065,10.2669583 31.8057648,13.8090137 C30.7147076,25.5813672 17.2181194,31.8996281 7.20714461,25.3808491 C2.71833574,22.4571656 0.196577202,18.3122624 0.0549495772,12.9357897 C-0.0342233715,9.5774348 0.00642900214,6.21519891 0.0300336062,2.85555035 C0.0405245414,1.1129833 1.21157517,0.0146615391 3.01995012,0.00819321302 C7.34746087,-0.00603710433 11.6775944,0.00431221738 16.0064164,0.00172488695 C20.2644248,0.00172488695 24.5237444,-0.00215610869 28.7817528,0.00172488695 L28.7817528,0.00172488695 Z M8.64885184,7.85611511 C7.38773662,7.99113854 6.66148108,8.42606978 6.29310958,9.33228474 C5.90114134,10.2969233 6.17774769,11.1421181 6.89875951,11.8276216 C9.35282156,14.161969 11.8108164,16.4924215 14.2976518,18.7943114 C15.3844131,19.7966007 16.5354102,19.7836177 17.6116843,18.7813283 C20.0185529,16.5495467 22.4070683,14.2982907 24.7824746,12.0327533 C25.9845979,10.8850542 26.1012707,9.56468083 25.1469132,8.60653379 C24.1361858,7.59255976 22.8449191,7.6743528 21.5890476,8.85191291 C19.9936451,10.3488554 18.3680912,11.8172352 16.8395462,13.3777945 C16.1342655,14.093159 15.7200114,14.0048744 15.0566806,13.3440386 C13.4599671,11.7484252 11.8081945,10.2060421 10.1262706,8.70001155 C9.65564653,8.27936164 9.00411403,8.05345704 8.64885184,7.85611511 L8.64885184,7.85611511 L8.64885184,7.85611511 Z"></path>
                  </svg>
              </span>
              <span class="text">Pocket</span>
          </a>
      </li>
  </ul>
</div>

    <div itemprop="author" itemscope itemtype="http://schema.org/Person">
  <h5>About the author</h5>
  <section>
    <p><a href="https://twitter.com/markhneedham" itemprop="name" rel="author">I'm</a> currently working on real-time user-facing analytics with <a href="https://pinot.apache.org/">Apache Pinot</a> at <a href="https://www.startree.ai/">StarTree</a>. I publish short 5 minute videos showing how to solve data problems on YouTube <a href="https://www.youtube.com/@LearnDataWithMark">@LearnDataWithMark</a>. I previously worked on graph analytics at <a href="https://neo4j.com/">Neo4j</a>, where I also I co-authored the <a href="https://neo4j.com/graph-algorithms-book">O'Reilly Graph Algorithms Book</a> with Amy Hodler.</p>
  </section>
</div>

    <div id="comments">
    
    
    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'markhneedham';
      var disqus_identifier = 'https:\/\/www.markhneedham.com\/blog\/2021\/02\/08\/neo4j-gdsl-overlapping-community-detection-sllpa\/';
      var disqus_title = 'Neo4j Graph Data Science 1.5: Exploring the Speaker-Listener LPA Overlapping Community Detection Algorithm';
      var disqus_url = 'https:\/\/www.markhneedham.com\/blog\/2021\/02\/08\/neo4j-gdsl-overlapping-community-detection-sllpa\/';
      (function() {
        if (window.location.hostname == "localhost")
                return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
    
</div>

</article>

</main>

  <footer id="footer">
			<section id="footer-message">&copy; Mark Needham. All rights reserved. Powered by <a href="http://gohugo.io" target="_blank">Hugo</a>. <a href="https://github.com/kathyqian/crisp-ghost-theme" target="_blank">Crisp</a> theme by <a href="http://kathyqian.com" target="_blank">Kathy Qian</a>.</section>
		</footer>

    <script>
      (function(c,f){asyncLoader=function(i,h){i.foreach(function(k,j){e(j,d(j),h)});if(typeof h.callback=="function"){var g=setInterval(function(){if(f.readyState==="complete"){clearInterval(g);h.callback()}},10)}};var d=function(g){var h=g.split(".");return h[h.length-1]},e=function(h,i,g){switch(i){case"js":a(h,g);break;case"css":b(h);break;default:break}},a=function(i,h){var g=document.createElement("script");g.type="text/javascript";g.async=true;g.src=i;document.getElementsByTagName("head")[0].appendChild(g)},b=function(g){var h=document.createElement("link");h.type="text/css";h.rel="stylesheet";h.href=g;document.getElementsByTagName("head")[0].appendChild(h)};Array.prototype.foreach=function(h){for(var g=0;g<this.length;g++){h(g,this[g])}}})(this,document);

      var WebFontConfig={google:{families:["Open Sans:300italic,700italic,300,700","Bree+Serif"]}};
      asyncLoader([
        "//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/fontawesome.min.css",
        "//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js",
        "//cdnjs.cloudflare.com/ajax/libs/webfont/1.5.16/webfontloader.js",
        "//unpkg.com/@highlightjs/cdn-assets@10.7.2/highlight.min.js"        
      ],{
        callback:function(){
          asyncLoader([
            "https:\/\/www.markhneedham.com\/blog\/css/rrssb.css",
            "https:\/\/www.markhneedham.com\/blog\/js/image-zoom.js",
            "https:\/\/www.markhneedham.com\/blog\/js/gist.min.js",
            "https:\/\/www.markhneedham.com\/blog\/js/rrssb.min.js",
            "https://unpkg.com/highlightjs-cypher/dist/cypher.min.js",
            "//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/default.min.css"
          ], { callback:function() {
              hljs.highlightAll();
          }});
        }
      });
    </script>
	
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-KVLB7W6R20"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'G-KVLB7W6R20');
    </script>

    

    


  
	</body>
</html>

