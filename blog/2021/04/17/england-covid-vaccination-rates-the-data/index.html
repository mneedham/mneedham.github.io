
<!DOCTYPE html>
<html lang="en-us">

    <head>

        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        
        <meta property="og:title" content="Vaccinating England: The Data (cleanup) | Mark Needham" />
        <meta property="og:site_name" content="Mark Needham" />
        <meta property="og:url" content="https://www.markhneedham.com/blog/2021/04/17/england-covid-vaccination-rates-the-data/" />

    
        <meta property="og:type" content="article" />
        <meta property="og:article:published_time" content="2021-04-17T00:44:37Z" />
        <meta property="og:article:tag" content="python" />
        <meta property="og:article:tag" content="pandas" />
        <meta property="og:article:tag" content="covid-vaccines" />
        <meta property="og:article:tag" content="altair" />
        

        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:site" content="@markhneedham" />
        <meta name="twitter:creator" content="@markhneedham" />
        <meta name="twitter:title" content="Vaccinating England: The Data (cleanup)" />
        
          <meta name="twitter:description" content="In this post we&#39;ll learn how to extract data about England&#39;s Covid vaccinations from a Public Health England spreadsheet." />
        
        <meta name="twitter:url" content="https://www.markhneedham.com/blog/2021/04/17/england-covid-vaccination-rates-the-data/" />

      
        
        <meta name="og:image" content="https://www.markhneedham.com/blog//uploads/2021/04/covid-vaccines.png" />
        <meta name="image" property="og:image" content="https://www.markhneedham.com/blog//uploads/2021/04/covid-vaccines.png">
        <meta name="twitter:image:src" content="https://www.markhneedham.com/blog//uploads/2021/04/covid-vaccines.png" />
        <meta name="twitter:image" content="https://www.markhneedham.com/blog//uploads/2021/04/covid-vaccines.png" />
      

    

        
        <title>Vaccinating England: The Data (cleanup) | Mark Needham</title>

    
        <meta name="description" content="In this post we&#39;ll learn how to extract data about England&#39;s Covid vaccinations from a Public Health England spreadsheet." />
    

        <meta name="p:domain_verify" content="fc173d84e3a4de948ed4bda2908afd3e"/>
        <meta name="HandheldFriendly" content="True" />
        <meta name="MobileOptimized" content="320" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        
        

        
        
        <link href="https://www.markhneedham.com/blog/index.xml" rel="alternate" type="application/rss+xml" title="Mark Needham" />
          
        

        <link rel="canonical" href="https://www.markhneedham.com/blog/2021/04/17/england-covid-vaccination-rates-the-data/" />

    
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Article",
        "headline": "Vaccinating England: The Data (cleanup)",
        "author": {
            "@type": "Person",
            "name": "http://profiles.google.com/100354797468725665406?rel=author"
        },
        "datePublished": "2021-04-17",
        "description": "Over the last 13 months I’ve spent countless hours looking at dashboards that showed Coronavirus infection rates, death rates, and numbers of people vaccinated. The UK government host a dashboard at coronavirus.data.gov.uk, which contains charts and tables showing all of the above.\nOne thing I haven’t been able to find, however, is a drill down of vaccinations by local area and age group. So I’m going to try to build my own!",
        "wordCount":  2266 
    }
    </script>
    

    

<style>
*{padding:0;margin:0}body,html{font-size:1em;line-height:1.65em;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;font-weight:300;color:#444}html{height:100%}body{padding:2em 2.5em 1em 20em}header{border-right:1px #eee solid;padding:2em;position:fixed;top:0;left:0;height:100%;width:13.5em}#content{display:block;width:100%}footer{padding:1em 0 2.5em;font-size:.8em;line-height:1.5em;color:#888}article{border-bottom:.1em #eee solid;padding-bottom:1.7em;max-width:56em}h4,h5,h6,hr,p{margin-top:.9em;margin-bottom:.9em}h1,h2,h3,h4,h5,h6{font-family:"Bree Serif",serif;font-weight:400!important}h1{font-size:2.5em;line-height:1.1em;margin-top:.6em;margin-bottom:.6em}h2{font-size:1.9em;line-height:1.2em;margin-top:.7em;margin-bottom:.7em}h3{font-size:1.4em;line-height:1.3em;margin-top:.8em;margin-bottom:.8em}h4{font-size:1.3em}h5{font-size:1.2em}h6{font-size:1.1em}iframe,img{max-width:100%}a{font-weight:700;text-decoration:none;color:#5cc265}a:hover{text-decoration:underline}h1 a,h2 a,h3 a,h4 a,h5 a,h6 a{font-weight:400!important}strong{font-weight:700}blockquote{border-left:.4em solid #008cc1;padding-left:1.2em;font-size:1.3em}hr{border:0;height:1px;background:#eee}ol,ul{margin-left:3em}code{font-size:1.1em;max-height: 500px;background:#0d1117}
pre{border-radius: 0 0 .75em .75em;font-size:.8em;line-height:1.7em;color:#c9d1d9;background:#0d1117;padding:2.0em 0.75em 2.0em 0.75em;word-break:break-all;word-wrap:break-word;white-space:pre;white-space:-moz-pre-wrap;white-space:pre-wrap}input{font-size:1em;padding:.3em}header h1{font-size:1.9em;margin-top:.8em;margin-bottom:.6em}header h1 a{color:#444}header h1 a:hover{text-decoration:none}header #logo img{width:9em;height:9em;border-radius:4.5em;-moz-border-radius:4.5em;-webkit-border-radius:4.5em;border:none}#follow-icons{font-size:.7em;margin-top:-.7em;margin-bottom:1.5em}#follow-icons a{color:#ccc}#follow-icons span{vertical-align:top;margin-left:-.15em;margin-right:-.15em}#follow-icons span .fa-stack-1x{font-size:1.05em;line-height:1.9em}header h6{margin-top:.5em}article span.post-stamp{color:#888}h1.post-title{margin-top:.35em;margin-bottom:.6em}h3.post-title{margin-top:.4em;padding-bottom:.9em;border-bottom:1px solid #eee;font-size:1.2em;color:#444}.post-title .feature-star{font-size:.9em}.feature-star,.separator,.taglist{color:#ccc}.taglist a{background-color:#008cc1;color:#fff;display:inline-block;line-height:1.5em;padding:.3em .6em;vertical-align:20%;font-size:.5em;font-family:"Open Sans",sans-serif;font-weight:700!important;text-transform:uppercase;letter-spacing:.05em;border-radius:.25em;-moz-border-radius:.25em;-webkit-border-radius:.25em}#social-bar{margin-top:1.5em;background-color:#eee;padding:.5em}#comments{margin-top:.15em;padding-bottom:.2em;border-bottom:1px solid #eee}.pagination{margin-bottom:1em}footer a{font-weight:300;color:#888;text-decoration:underline}footer a:hover{color:#444;text-decoration:none}@media only screen and (min-width:1281px){body,html{font-size:1.1em}}@media only screen and (max-width:800px){body{padding:0}header{border-right:none;border-bottom:1px #eee solid;position:relative;height:auto;width:auto;text-align:center;padding-bottom:1em}#content{margin-left:0;padding:2em 2em 1em;width:auto}footer{padding:0 2.5em 2em}}@media only screen and (max-width:320px){#content,header{padding:1.2em 1.2em .6em}footer{padding:0 1.5em 1.2em}ol,ul{margin-left:2em}}
</style>

<style>
p code{
    font-size:1.2em;
    background:#fff
}

pre.highlight {
    position: relative;
}


.label-right {
    color: #FFF;
    padding: 2px 5px;   
    border-radius: 0 0 0 0.25em;
    font-size: 1.1em;
    font-weight: 500;
    position: absolute;
    top: 0;
    right: 0;
}

.green-icon {
    color: lime;
}

.copy-button {
    cursor: pointer;  
    margin-right: 0.25em;
    padding: 0.25em 0 0 0;
}

.copy-notification {
    position: absolute;
    right: 0;
    top: 0;
    padding: 2px 5px;
    background-color: #0d1117;
    color: #fff;
}


.stretch{width:100%}
table{border-collapse:collapse;border-spacing:0}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede;}
table thead,table tfoot{background:#008cc1;}
table thead tr th{background:#008cc1;}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table thead tr th {color: #ffffff;}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8);}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6;}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0; margin-top: 0;}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{margin-top: 0.5em;}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
td>div.verse{white-space:pre}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock,th.tableblock{font-size:0.8em}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#008cc1;font-weight:350;margin-top:.75em;margin-bottom:.25em}

.listingblock>.title {
    background: rgba(0, 140, 193, 5);
    padding: 0.25em;
    color: white;
    margin-bottom: 0;
}

.admonitionblock {
    margin: 0 0 1.5rem;
    border-left: 4px solid #000000;
    border-radius: .25rem;
}
.admonitionblock.note {
    background-color: #edf2f7;
    color: #19407c;
    border-left-color: #718096;
}
.admonitionblock.warning {
    background-color: #fff6e6;
    color: #19407c;
    border-left-color: #FFA500;
}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;display:none;}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}

tbody tr pre {margin-bottom: 27px}

.colist, .dlist, .exampleblock, .imageblock, .listingblock, .literalblock, .olist, .paragraph, .partintro, .quoteblock, .sidebarblock, .ulist, .verseblock {
    margin: 0 0 1.5rem;
}

.colist {
    margin: 0;
}

.colist table {
    margin: 0;
    border: none;
}

.conum { display: inline-block; color: white !important; background-color: #008cc1; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }

.colist>table tr>td:first-of-type{ border:0; min-width:0; padding:0 .75em;}
.colist>table tr>td:last-of-type{ border:0; min-width:0; padding:.25em 0}
.colist>table tr:nth-child(even) { background:0 0 }

.listingblock + .colist {
    margin-top: -0.7rem;
}
</style>

    </head>
    <body>
        <header id="header">
            <a id="logo" href="https://www.markhneedham.com/blog/"><img src="https://www.markhneedham.com/blog//me.jpg" alt="Mark Needham" /></a>
            <h1><a href="https://www.markhneedham.com/blog/">Mark Needham</a></h1>
            <p>In this post we&#39;ll learn how to extract data about England&#39;s Covid vaccinations from a Public Health England spreadsheet.</p>

            <div id="follow-icons">
	<a href="http://twitter.com/markhneedham" rel="me"><i class="fa fa-twitter-square fa-2x"></i></a>
	<a href="https://www.youtube.com/channel/UCKEk670ECmteGBehmDjVSSg" rel="me"><i class="fa fa-youtube-square fa-2x"></i></a>
	<a href="http://linkedin.com/in/markhneedham" rel="me"><i class="fa fa-linkedin-square fa-2x"></i></a>
	<a href="http://github.com/mneedham" rel="me"><i class="fa fa-github-square fa-2x"></i></a>
	<a href="mailto:m.h.needham@gmail.com"><i class="fa fa-envelope-square fa-2x"></i></a>
	<a href="https://www.markhneedham.com/blog/index.xml" rel="me"><i class="fa fa-rss-square fa-2x"></i></a>
</div>

            
        </header>

<main id="content">

<article id="" class="2021">
    <div class="post-stamp">
        <time datetime="2021-04-17T00:44:37Z">
            17 Apr 2021
        </time>
        <span class="taglist">
        
        &middot;
        
            <a href="https://www.markhneedham.com/blog/tag/python/">python</a>
        
            <a href="https://www.markhneedham.com/blog/tag/pandas/">pandas</a>
        
            <a href="https://www.markhneedham.com/blog/tag/covid-vaccines/">covid-vaccines</a>
        
            <a href="https://www.markhneedham.com/blog/tag/altair/">altair</a>
        
        
        </span>
    </div>
    <h1 class="post-title">Vaccinating England: The Data (cleanup)</h1>
    <div class="paragraph">
<p>Over the last 13 months I’ve spent countless hours looking at dashboards that showed Coronavirus infection rates, death rates, and numbers of people vaccinated.
The UK government host a dashboard at <a href="https://coronavirus.data.gov.uk" target="_blank" rel="noopener">coronavirus.data.gov.uk</a>, which contains charts and tables showing all of the above.</p>
</div>
<div class="paragraph">
<p>One thing I haven’t been able to find, however, is a drill down of vaccinations by local area and age group.
So I’m going to try to build my own!</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.markhneedham.com/blog/
/uploads/2021/04/covid-vaccines.png" alt="covid vaccines"/>
</div>
</div>
<div class="paragraph">
<p>This is the first in a series of blog posts showing how to do that, in this post we’ll find the data and get it into a format that’s easier to process.</p>
</div>
<div class="sect1">
<h2 id="_the_data">The Data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, we need to find the data!
I haven’t found anywhere that contains the data for the whole of the United Kingdom, but Public Health England do <a href="https://www.england.nhs.uk/statistics/statistical-work-areas/covid-19-vaccinations/" target="_blank" rel="noopener">post the data</a> about vaccinations every Thursday.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.markhneedham.com/blog/
/uploads/2021/04/phe.png" alt="phe"/>
</div>
<div class="title">Figure 1. Public Health England Data</div>
</div>
<div class="paragraph">
<p>This page contains various PDFs and spreadsheets and the &#39;Weekly data&#39; spreadsheet is the one that we want.
This spreadsheet contains data on vaccinations by local area and age group, as well as the populations of those areas and age groups.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reading_excel_sheets_with_pandas">Reading Excel Sheets with Pandas</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We’re going to use Python’s Pandas library to read the data from the spreadsheet, but we’ll also need to install some other libraries that deal with reading <code>xlsx</code> files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">pip install numpy pandas xlrd openpyxl</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once we’ve done that, let’s import pandas and numpy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import pandas as pd
import numpy as np</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vaccinations">Vaccinations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We’re going to start by extracting vaccination data.
This is stored in the <code>LTLA</code> sheet:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.markhneedham.com/blog/
/uploads/2021/04/ltla-spreadsheet-vaccinations.png" alt="ltla spreadsheet vaccinations"/>
</div>
<div class="title">Figure 2. Vaccinations - LTLA Spreadsheet</div>
</div>
<div class="paragraph">
<p>From visually inspecting the spreadsheet, we can see that columns B to M contain the data we’re interested in.
We can extract just those columns by using the <code>usecols</code> parameter, as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">spreadsheet = &#34;data/COVID-19-weekly-announced-vaccinations-15-April-2021.xlsx&#34;
vaccinations = pd.read_excel(spreadsheet, &#34;LTLA&#34;, usecols=&#34;B:M&#34;)
vaccinations.head()</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. vaccinations DataFrame</caption>
<colgroup>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3337%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Unnamed: 1</th>
<th class="tableblock halign-left valign-top">Unnamed: 2</th>
<th class="tableblock halign-left valign-top">Unnamed: 3</th>
<th class="tableblock halign-left valign-top">Unnamed: 4</th>
<th class="tableblock halign-left valign-top">Unnamed: 5</th>
<th class="tableblock halign-left valign-top">Unnamed: 6</th>
<th class="tableblock halign-left valign-top">Unnamed: 7</th>
<th class="tableblock halign-left valign-top">Unnamed: 8</th>
<th class="tableblock halign-left valign-top">Unnamed: 9</th>
<th class="tableblock halign-left valign-top">Unnamed: 10</th>
<th class="tableblock halign-left valign-top">Unnamed: 11</th>
<th class="tableblock halign-left valign-top">Unnamed: 12</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Title:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COVID-19 Vaccinations By Lower Tier Local Authority (LTLA) of Residence and Age Group</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Summary:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of people who have been vaccinated for COVID-19, split by LTLA of residence and age group. All figures are presented by date of vaccination as recorded on the National Immunisation Management Service (NIMS) database. NIMS vaccination counts and populations by LTLA are provided by Public Health England.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Period:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8th December 2020 to 11th April 2021</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">National Immunisation Management Service (NIMS), Public Health England</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Basis:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">England</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>We clearly still have some cleanup work to do.
We already filtered on columns when loading the sheet, so let’s now select just the rows that we need:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">spreadsheet = &#34;data/COVID-19-weekly-announced-vaccinations-15-April-2021.xlsx&#34;
vaccinations = pd.read_excel(spreadsheet, &#34;LTLA&#34;, usecols=&#34;B:M&#34;)
vaccinations = vaccinations.loc[14:327,]</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. vaccinations DataFrame</caption>
<colgroup>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3337%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Unnamed: 1</th>
<th class="tableblock halign-left valign-top">Unnamed: 2</th>
<th class="tableblock halign-left valign-top">Unnamed: 3</th>
<th class="tableblock halign-left valign-top">Unnamed: 4</th>
<th class="tableblock halign-left valign-top">Unnamed: 5</th>
<th class="tableblock halign-left valign-top">Unnamed: 6</th>
<th class="tableblock halign-left valign-top">Unnamed: 7</th>
<th class="tableblock halign-left valign-top">Unnamed: 8</th>
<th class="tableblock halign-left valign-top">Unnamed: 9</th>
<th class="tableblock halign-left valign-top">Unnamed: 10</th>
<th class="tableblock halign-left valign-top">Unnamed: 11</th>
<th class="tableblock halign-left valign-top">Unnamed: 12</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000032</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amber Valley</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20018</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9225</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9212</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8078</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7294</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7968</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5798</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6808</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000170</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ashfield</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18535</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8581</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8581</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7189</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6358</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6465</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5163</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6070</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000171</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bassetlaw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17562</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8208</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8629</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7450</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6589</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7098</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5247</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6428</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000129</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blaby</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16281</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6770</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6647</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5157</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5601</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4166</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5559</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000033</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bolsover</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11594</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5819</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5644</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4967</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4213</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4249</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3411</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3825</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>That’s looking better already, but those column names aren’t great.
Let’s extract those and set them on our DataFrame:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">spreadsheet = &#34;data/COVID-19-weekly-announced-vaccinations-15-April-2021.xlsx&#34;
vaccinations = pd.read_excel(spreadsheet, &#34;LTLA&#34;, usecols=&#34;B:M&#34;)
columns = np.concatenate(
    (vaccinations.loc[10,:][:4].values, vaccinations.loc[11,:][4:].values), axis=None)
vaccinations = vaccinations.loc[14:327,]
vaccinations.columns = columns</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. vaccinations DataFrame</caption>
<colgroup>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3337%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Region Code (Administrative)</th>
<th class="tableblock halign-left valign-top">Region Name (administrative)</th>
<th class="tableblock halign-left valign-top">LTLA Code</th>
<th class="tableblock halign-left valign-top">LTLA Name</th>
<th class="tableblock halign-left valign-top">Under 50</th>
<th class="tableblock halign-left valign-top">50-54</th>
<th class="tableblock halign-left valign-top">55-59</th>
<th class="tableblock halign-left valign-top">60-64</th>
<th class="tableblock halign-left valign-top">65-69</th>
<th class="tableblock halign-left valign-top">70-74</th>
<th class="tableblock halign-left valign-top">75-79</th>
<th class="tableblock halign-left valign-top">80+</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000032</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amber Valley</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20018</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9225</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9212</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8078</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7294</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7968</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5798</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6808</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000170</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ashfield</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18535</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8581</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8581</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7189</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6358</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6465</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5163</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6070</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000171</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bassetlaw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17562</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8208</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8629</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7450</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6589</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7098</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5247</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6428</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000129</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blaby</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16281</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6770</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6647</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5157</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5601</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4166</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5559</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000033</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bolsover</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11594</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5819</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5644</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4967</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4213</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4249</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3411</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3825</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This is all looking good, but there’s one final bit of cleanup that we need to do.
The <code>dtypes</code> function returns the data type of each column.
Let’s check what it returns for our DataFrame:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">vaccinations.dtypes</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Output</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">Region Code (Administrative)    object
Region Name (administrative)    object
LTLA Code                       object
LTLA Name                       object
Under 50                        object
50-54                           object
55-59                           object
60-64                           object
65-69                           object
70-74                           object
75-79                           object
80+                             object
dtype: object</code></pre>
</div>
</div>
<div class="paragraph">
<p>Hmmm, every column is an object, when we know that some columns only have numeric values.
We can fix column types by calling the <code>convert_dtypes</code> function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">vaccinations.convert_dtypes().dtypes</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Output</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">Region Code (Administrative)    string
Region Name (administrative)    string
LTLA Code                       string
LTLA Name                       string
Under 50                         Int64
50-54                            Int64
55-59                            Int64
60-64                            Int64
65-69                            Int64
70-74                            Int64
75-79                            Int64
80+                              Int64
dtype: object</code></pre>
</div>
</div>
<div class="paragraph">
<p>Looks good.
Let’s now wrap all of that code into a function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">def vaccinations_dataframe(spreadsheet):
    vaccinations = pd.read_excel(spreadsheet, &#34;LTLA&#34;, usecols=&#34;B:M&#34;)
    columns = np.concatenate(
        (vaccinations.loc[10,:][:4].values, vaccinations.loc[11,:][4:].values), axis=None)
    vaccinations = vaccinations.loc[14:327,]
    vaccinations.columns = columns
    vaccinations = vaccinations.convert_dtypes()
    return vaccinations</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">spreadsheet = &#34;data/COVID-19-weekly-announced-vaccinations-15-April-2021.xlsx&#34;
vaccinations = vaccinations_dataframe(spreadsheet)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_population">Population</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now we’ll do the same for each Local Tier Local Authority’s population, which we can find in the <code>Population estimates (NIMS)</code> sheet.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.markhneedham.com/blog/
/uploads/2021/04/ltla-spreadsheet-population.png" alt="ltla spreadsheet population"/>
</div>
<div class="title">Figure 3. Population - LTLA Spreadsheet</div>
</div>
<div class="paragraph">
<p>We’ll skip straight to the final function for creating the DataFrame:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">def population_dataframe(spreadsheet):
    population = pd.read_excel(spreadsheet, &#34;Population estimates (NIMS)&#34;, usecols=&#34;B:L&#34;)
    population_columns = np.concatenate(
        (population.loc[10,:][:2], population.loc[11, :][2:]), axis=None)
    population = population.loc[14:327,]
    population.columns = population_columns
    population.insert(
        loc=2,
        column=&#34;Under 50&#34;,
        value=population[&#34;Under 16&#34;] + population[&#34;16-49&#34;])
    population = population.drop([&#34;Under 16&#34;, &#34;16-49&#34;], axis=1)
    population = population.convert_dtypes()
    return population</code></pre>
</div>
</div>
<div class="paragraph">
<p>One extra thing we had to do was add the <code>Under 50</code> column, since that didn’t exist in the spreadsheet.
We need that column to exist so that we can directly map the population with the number of people vaccinated per age group per area.</p>
</div>
<div class="paragraph">
<p>Now let’s use that function to extract the population for each area:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">spreadsheet = &#34;data/COVID-19-weekly-announced-vaccinations-15-April-2021.xlsx&#34;
population = population_dataframe(spreadsheet)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. population DataFrame</caption>
<colgroup>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">LTLA Code</th>
<th class="tableblock halign-left valign-top">LTLA Name</th>
<th class="tableblock halign-left valign-top">Under 50</th>
<th class="tableblock halign-left valign-top">50-54</th>
<th class="tableblock halign-left valign-top">55-59</th>
<th class="tableblock halign-left valign-top">60-64</th>
<th class="tableblock halign-left valign-top">65-69</th>
<th class="tableblock halign-left valign-top">70-74</th>
<th class="tableblock halign-left valign-top">75-79</th>
<th class="tableblock halign-left valign-top">80+</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000032</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amber Valley</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">72286</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10198</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10139</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8672</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7633</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8242</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5928</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7010</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000170</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ashfield</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">78053</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9798</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9503</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7886</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6752</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6769</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5357</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6316</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000171</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bassetlaw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">70918</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9376</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9572</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8099</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6997</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7367</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5414</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6636</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000129</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blaby</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">62265</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7595</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7395</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6528</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5465</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5801</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4290</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5781</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000033</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bolsover</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">48519</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6660</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6280</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5376</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4498</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4445</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3501</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3947</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>We’ve now got DataFrames that contain vaccination and population data.
Next we’re going to compute the vaccination rate per age group per area.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_combining_vaccinations_and_populations">Combining Vaccinations and Populations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We can compute the vaccination rate by dividing the non string columns in <code>vaccinations</code> by the non string columns in <code>population</code> and then multiplying by 100.
We can see how to do this in the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">vaccination_rates = (vaccinations.select_dtypes(exclude=&#39;string&#39;)
                                 .div(population.select_dtypes(exclude=&#39;string&#39;)) * 100)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Vaccination Rates</caption>
<colgroup>
<col style="width: 12.5%;"/>
<col style="width: 12.5%;"/>
<col style="width: 12.5%;"/>
<col style="width: 12.5%;"/>
<col style="width: 12.5%;"/>
<col style="width: 12.5%;"/>
<col style="width: 12.5%;"/>
<col style="width: 12.5%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Under 50</th>
<th class="tableblock halign-left valign-top">50-54</th>
<th class="tableblock halign-left valign-top">55-59</th>
<th class="tableblock halign-left valign-top">60-64</th>
<th class="tableblock halign-left valign-top">65-69</th>
<th class="tableblock halign-left valign-top">70-74</th>
<th class="tableblock halign-left valign-top">75-79</th>
<th class="tableblock halign-left valign-top">80+</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27.6928</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.4589</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.8571</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">93.1504</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.5588</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.6756</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">97.807</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">97.1184</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23.7467</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.5791</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.2978</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.1616</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.1647</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.5089</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.3786</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.1051</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24.7638</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.5427</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.1483</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.9867</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.1689</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.3486</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.9154</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.8656</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">26.1479</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.1376</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.8851</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.973</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.3641</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.5523</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">97.1096</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.1598</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23.8958</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.3724</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.8726</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">92.3921</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">93.6639</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.5906</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">97.4293</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.909</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>That looks good, but we’ve lost the area names, which we can get back by calling the <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.combine_first.html" target="_blank" rel="noopener"><code>combine_first</code></a> function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">vaccination_rates = (
    (vaccinations.select_dtypes(exclude=&#39;string&#39;)
                 .div(population.select_dtypes(exclude=&#39;string&#39;)) * 100)
                 .combine_first(vaccinations)[vaccinations.columns])
vaccination_rates = vaccination_rates.convert_dtypes()</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Vaccination Rates</caption>
<colgroup>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3337%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Region Code (Administrative)</th>
<th class="tableblock halign-left valign-top">Region Name (administrative)</th>
<th class="tableblock halign-left valign-top">LTLA Code</th>
<th class="tableblock halign-left valign-top">LTLA Name</th>
<th class="tableblock halign-left valign-top">Under 50</th>
<th class="tableblock halign-left valign-top">50-54</th>
<th class="tableblock halign-left valign-top">55-59</th>
<th class="tableblock halign-left valign-top">60-64</th>
<th class="tableblock halign-left valign-top">65-69</th>
<th class="tableblock halign-left valign-top">70-74</th>
<th class="tableblock halign-left valign-top">75-79</th>
<th class="tableblock halign-left valign-top">80+</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000032</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amber Valley</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">27.6928</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.4589</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.8571</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">93.1504</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.5588</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.6756</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">97.807</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">97.1184</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000170</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ashfield</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">23.7467</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.5791</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.2978</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.1616</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.1647</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.5089</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.3786</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.1051</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000171</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bassetlaw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24.7638</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.5427</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.1483</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.9867</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.1689</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.3486</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.9154</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.8656</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000129</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blaby</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">26.1479</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.1376</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.8851</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.973</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.3641</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.5523</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">97.1096</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.1598</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000033</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bolsover</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">23.8958</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.3724</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.8726</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">92.3921</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">93.6639</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.5906</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">97.4293</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.909</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_exploring_vaccination_rates">Exploring vaccination rates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that we’ve compute vaccination rates, let’s do a bit of exploration of the data.
We can find the maximum rates in each age group using the <code>max</code> function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">vaccination_rates.max()</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Vaccination Rates Maximums</div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">Region Code (Administrative)                   E12000009
Region Name (administrative)    Yorkshire and The Humber
LTLA Code                                      E09000033
LTLA Name                                           York
Under 50                                       39.916551
50-54                                          91.650635
55-59                                          93.316424
60-64                                          94.840627
65-69                                          96.086819
70-74                                          99.305556
75-79                                          98.061389
80+                                            99.386503
dtype: object</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can ignore the values for the string columns, they don’t really mean anything.
But if we look at the age categories, we can see that in one area 99.38% of over 80s have received one doses of the vaccine and the best area for under 50s has vaccinated almost 40% of that cohort.</p>
</div>
<div class="paragraph">
<p>We can find out which areas those are by sorting on the appropriate column.
For example, these are the top areas for vaccinating Under 50s:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">vaccination_rates.sort_values([&#34;Under 50&#34;], ascending=False).head()</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Vaccination Rates - Best for Under 50s</caption>
<colgroup>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3333%;"/>
<col style="width: 8.3337%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Region Code (Administrative)</th>
<th class="tableblock halign-left valign-top">Region Name (administrative)</th>
<th class="tableblock halign-left valign-top">LTLA Code</th>
<th class="tableblock halign-left valign-top">LTLA Name</th>
<th class="tableblock halign-left valign-top">Under 50</th>
<th class="tableblock halign-left valign-top">50-54</th>
<th class="tableblock halign-left valign-top">55-59</th>
<th class="tableblock halign-left valign-top">60-64</th>
<th class="tableblock halign-left valign-top">65-69</th>
<th class="tableblock halign-left valign-top">70-74</th>
<th class="tableblock halign-left valign-top">75-79</th>
<th class="tableblock halign-left valign-top">80+</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000009</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">South West</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E06000053</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Isles of Scilly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">39.9166</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.8734</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.4444</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.1765</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.2381</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">99.3056</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.4545</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">99.3865</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000008</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">South East</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000090</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Havant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28.4815</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.6867</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.423</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">93.2137</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.7948</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.7627</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.7189</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.7105</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000034</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chesterfield</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28.4194</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.8095</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.4942</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">92.7704</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.8408</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.9601</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.4349</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.7665</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000032</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amber Valley</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">27.6928</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.4589</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.8571</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">93.1504</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.5588</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.6756</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">97.807</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">97.1184</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E12000002</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">North West</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E07000128</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wyre</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">27.56</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.7091</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.6141</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">92.7322</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.5789</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.7072</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.8809</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.7518</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>We could also group by <code>Region Name</code> and compute the average vaccination rate per age group:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">average_rates = vaccination_rates.groupby([&#34;Region Name (administrative)&#34;]).mean()
average_rates.insert(0, &#34;Region&#34;, list(average_rates.index))</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Vaccination Rates - By Region</caption>
<colgroup>
<col style="width: 20%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Region</th>
<th class="tableblock halign-left valign-top">Under 50</th>
<th class="tableblock halign-left valign-top">50-54</th>
<th class="tableblock halign-left valign-top">55-59</th>
<th class="tableblock halign-left valign-top">60-64</th>
<th class="tableblock halign-left valign-top">65-69</th>
<th class="tableblock halign-left valign-top">70-74</th>
<th class="tableblock halign-left valign-top">75-79</th>
<th class="tableblock halign-left valign-top">80+</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">21.3713</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">86.2392</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">88.4962</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.6407</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">93.2752</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.3722</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.3283</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.1347</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">East of England</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18.4956</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85.1457</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.6499</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.4512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.7769</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.2033</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.3887</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.6347</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">London</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">14.4234</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">69.3903</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">73.0272</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">76.6469</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">80.2523</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">83.9104</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85.1132</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">84.9085</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">North East</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18.7766</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">84.5177</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">88.4894</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.2096</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">93.7479</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.6958</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.8194</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.4659</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">North West</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">19.751</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">83.3976</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">86.5955</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.3941</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.9802</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.3731</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.5474</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.4938</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">South East</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18.0919</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85.6189</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.8544</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.6232</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.963</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.2038</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.2525</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.4839</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">South West</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">19.7912</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.5552</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.477</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.7873</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">93.1417</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.1491</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.0111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.4188</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">West Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20.426</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85.6018</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.7443</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.4331</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">92.825</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.8981</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.8844</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.4323</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yorkshire and The Humber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">19.7412</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85.6536</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">88.9223</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.8691</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">93.3894</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.4119</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.4073</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.2381</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Most of the country is doing really well, but it’s interesting to see that London has much lower vaccination rates across every category.
I assume this is due to a combination of vaccine hesitancy, difficulty getting to the vaccination centres, or perhaps there’s an error with the data.</p>
</div>
<div class="paragraph">
<p>This isn’t a perfect calculation though because we’re assigning equal weight to each local area, which will vary in size.
That means that we might be giving too much weight to smaller places with especially high or low vaccine uptake.</p>
</div>
<div class="paragraph">
<p>Let’s instead sum together the vaccinations given and populations per region and compute the percentages again.
First we’ll create DataFrames for each region:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">population.loc[:, &#34;Region Name (administrative)&#34;] = vaccinations[&#34;Region Name (administrative)&#34;]

population_by_region = population.groupby([&#34;Region Name (administrative)&#34;]).sum()
population_by_region.insert(0, &#34;Region&#34;, list(population_by_region.index))

vaccinations_by_region = vaccinations.groupby([&#34;Region Name (administrative)&#34;]).sum()
vaccinations_by_region.insert(0, &#34;Region&#34;, list(vaccinations_by_region.index))</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. population_by_region DataFrame</caption>
<colgroup>
<col style="width: 20%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Region</th>
<th class="tableblock halign-left valign-top">Under 50</th>
<th class="tableblock halign-left valign-top">50-54</th>
<th class="tableblock halign-left valign-top">55-59</th>
<th class="tableblock halign-left valign-top">60-64</th>
<th class="tableblock halign-left valign-top">65-69</th>
<th class="tableblock halign-left valign-top">70-74</th>
<th class="tableblock halign-left valign-top">75-79</th>
<th class="tableblock halign-left valign-top">80+</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3170332</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">364235</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">356411</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">304211</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">261878</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">265843</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">193933</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">249586</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">East of England</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4165578</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">470144</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">456846</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">387478</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">331616</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">344449</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">252007</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">346692</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">London</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7592384</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">664924</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">587034</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">458373</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">342329</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">293428</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">204762</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">297433</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">North East</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1687882</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">193270</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">200330</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">180677</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">154636</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">150338</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">102373</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">140390</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">North West</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4953735</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">549622</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">544180</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">465484</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">389203</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">388096</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">274374</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">364876</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">South East</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6112065</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">695721</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">676804</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">570183</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">480072</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">493718</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">365478</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">510052</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">South West</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3496476</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">415359</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">424070</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">374972</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">333106</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">349326</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">260864</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">355024</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">West Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4019092</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">439809</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">418626</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">356127</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">304688</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">300890</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">230075</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">308908</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yorkshire and The Humber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3670427</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">404075</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">392613</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">341298</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">289223</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">289865</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">204261</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">277539</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. vaccinations_by_region DataFrame</caption>
<colgroup>
<col style="width: 20%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Region</th>
<th class="tableblock halign-left valign-top">Under 50</th>
<th class="tableblock halign-left valign-top">50-54</th>
<th class="tableblock halign-left valign-top">55-59</th>
<th class="tableblock halign-left valign-top">60-64</th>
<th class="tableblock halign-left valign-top">65-69</th>
<th class="tableblock halign-left valign-top">70-74</th>
<th class="tableblock halign-left valign-top">75-79</th>
<th class="tableblock halign-left valign-top">80+</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">658569</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">310156</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">312653</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">274052</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">243321</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">253103</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">186500</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">239377</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">East of England</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">755452</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">399663</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">400596</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">347169</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">305122</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">325649</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">241126</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">332207</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">London</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1097594</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">459513</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">428659</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">352909</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">276040</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">248388</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">176083</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">255922</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">North East</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">313030</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">164486</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">178221</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">165482</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">145496</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">144315</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">99336</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">135749</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">North West</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">937404</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">451446</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">466463</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">412713</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">356303</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">365507</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">261756</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">347927</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">South East</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1078781</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">594115</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">594208</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">511143</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">442087</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">466018</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">348965</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">487877</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">South West</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">668237</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">361313</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">377659</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">339592</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">309999</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">332055</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">250762</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">342276</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">West Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">763887</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">361823</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">357134</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">315110</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">278568</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">283073</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">218910</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">291583</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yorkshire and The Humber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">694645</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">339544</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">344640</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">307351</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">268164</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">275646</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">196338</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">266059</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>And now we can compute the vaccination rate per region:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">vaccination_rates_by_region = ((vaccinations_by_region
    .select_dtypes(exclude=&#39;object&#39;)
    .div(population_by_region.select_dtypes(exclude=&#39;object&#39;)) * 100)
    .combine_first(vaccinations_by_region)[vaccinations_by_region.columns])
vaccination_rates_by_region = vaccination_rates_by_region.convert_dtypes()</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. vaccinations_by_region DataFrame</caption>
<colgroup>
<col style="width: 20%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
<col style="width: 10%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Region</th>
<th class="tableblock halign-left valign-top">Under 50</th>
<th class="tableblock halign-left valign-top">50-54</th>
<th class="tableblock halign-left valign-top">55-59</th>
<th class="tableblock halign-left valign-top">60-64</th>
<th class="tableblock halign-left valign-top">65-69</th>
<th class="tableblock halign-left valign-top">70-74</th>
<th class="tableblock halign-left valign-top">75-79</th>
<th class="tableblock halign-left valign-top">80+</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">East Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20.7729</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85.1527</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.7226</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.0862</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">92.9139</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.2077</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.1672</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.9096</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">East of England</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18.1356</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85.0086</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.6873</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.5971</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">92.0106</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.542</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.6823</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.8219</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">London</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">14.4565</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">69.1076</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">73.0212</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">76.9917</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">80.6359</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">84.6504</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85.994</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">86.0436</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">North East</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18.5457</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85.1068</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">88.9637</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.59</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.0893</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.9937</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">97.0334</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.6942</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">North West</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18.9232</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">82.1375</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85.7185</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">88.6632</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.5468</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.1795</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.4012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.3549</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">South East</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17.65</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85.3956</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.7962</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.6454</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">92.0876</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.3895</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.4818</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.6524</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">South West</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">19.1117</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">86.9881</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89.0558</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.5646</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">93.0632</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.0559</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.1275</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.4093</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">West Midlands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">19.0065</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">82.2682</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85.311</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">88.4825</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91.4273</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.0786</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.1472</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">94.3915</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yorkshire and The Humber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18.9255</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">84.0299</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87.7811</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.0536</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">92.7188</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.0946</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">96.1211</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95.8636</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>London is doing slightly better on some of the age groups measured like this, but still seems to be behind the other regions.</p>
</div>
<div class="paragraph">
<p>We could do some further analysis to figure out if there are specific areas in London that have lower uptake, but I think that can wait for another post.</p>
</div>
</div>
</div>

    <div id="social-bar">
	<ul class="rrssb-buttons clearfix">
      <li class="email">
          <a href="mailto:?subject=Vaccinating%20England%3a%20The%20Data%20%28cleanup%29&amp;body=https://www.markhneedham.com/blog/2021/04/17/england-covid-vaccination-rates-the-data/">
              <span class="icon">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                      <path transform="scale(0.014,-0.014) translate(0,-1670)" d="M1792 826v-794q0 -66 -47 -113t-113 -47h-1472q-66 0 -113 47t-47 113v794q44 -49 101 -87q362 -246 497 -345q57 -42 92.5 -65.5t94.5 -48t110 -24.5h1h1q51 0 110 24.5t94.5 48t92.5 65.5q170 123 498 345q57 39 100 87zM1792 1120q0 -79 -49 -151t-122 -123 q-376 -261 -468 -325q-10 -7 -42.5 -30.5t-54 -38t-52 -32.5t-57.5 -27t-50 -9h-1h-1q-23 0 -50 9t-57.5 27t-52 32.5t-54 38t-42.5 30.5q-91 64 -262 182.5t-205 142.5q-62 42 -117 115.5t-55 136.5q0 78 41.5 130t118.5 52h1472q65 0 112.5 -47t47.5 -113z"/>
                  </svg>
              </span>
              <span class="text">Email</span>
          </a>
      </li>
      <li class="facebook">
          <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.markhneedham.com/blog/2021/04/17/england-covid-vaccination-rates-the-data/" class="popup">
              <span class="icon">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                      <path d="M27.825,4.783c0-2.427-2.182-4.608-4.608-4.608H4.783c-2.422,0-4.608,2.182-4.608,4.608v18.434 c0,2.427,2.181,4.608,4.608,4.608H14V17.379h-3.379v-4.608H14v-1.795c0-3.089,2.335-5.885,5.192-5.885h3.718v4.608h-3.726 c-0.408,0-0.884,0.492-0.884,1.236v1.836h4.609v4.608h-4.609v10.446h4.916c2.422,0,4.608-2.188,4.608-4.608V4.783z"/>
                  </svg>
              </span>
              <span class="text">Facebook</span>
          </a>
      </li>
			<li class="twitter">
          <a href="http://twitter.com/home?status=Vaccinating%20England%3a%20The%20Data%20%28cleanup%29%20https://www.markhneedham.com/blog/2021/04/17/england-covid-vaccination-rates-the-data/" class="popup">
              <span class="icon">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
		                  <path d="M24.253,8.756C24.689,17.08,18.297,24.182,9.97,24.62c-3.122,0.162-6.219-0.646-8.861-2.32 c2.703,0.179,5.376-0.648,7.508-2.321c-2.072-0.247-3.818-1.661-4.489-3.638c0.801,0.128,1.62,0.076,2.399-0.155 C4.045,15.72,2.215,13.6,2.115,11.077c0.688,0.275,1.426,0.407,2.168,0.386c-2.135-1.65-2.729-4.621-1.394-6.965 C5.575,7.816,9.54,9.84,13.803,10.071c-0.842-2.739,0.694-5.64,3.434-6.482c2.018-0.623,4.212,0.044,5.546,1.683 c1.186-0.213,2.318-0.662,3.329-1.317c-0.385,1.256-1.247,2.312-2.399,2.942c1.048-0.106,2.069-0.394,3.019-0.851 C26.275,7.229,25.39,8.196,24.253,8.756z"/>
                  </svg>
              </span>
              <span class="text">Twitter</span>
          </a>
      </li>
			<li class="linkedin">
          <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.markhneedham.com/blog/2021/04/17/england-covid-vaccination-rates-the-data/&amp;title=Vaccinating%20England%3a%20The%20Data%20%28cleanup%29&amp;summary=Over%20the%20last%2013%20months%20I%e2%80%99ve%20spent%20countless%20hours%20looking%20at%20dashboards%20that%20showed%20Coronavirus%20infection%20rates%2c%20death%20rates%2c%20and%20numbers%20of%20people%20vaccinated.%20The%20UK%20government%20host%20a%20dashboard%20at%20coronavirus.data.gov.uk%2c%20which%20contains%20charts%20and%20tables%20showing%20all%20of%20the%20above.%0aOne%20thing%20I%20haven%e2%80%99t%20been%20able%20to%20find%2c%20however%2c%20is%20a%20drill%20down%20of%20vaccinations%20by%20local%20area%20and%20age%20group.%20So%20I%e2%80%99m%20going%20to%20try%20to%20build%20my%20own%21..." class="popup">
              <span class="icon">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                      <path d="M25.424,15.887v8.447h-4.896v-7.882c0-1.979-0.709-3.331-2.48-3.331c-1.354,0-2.158,0.911-2.514,1.803 c-0.129,0.315-0.162,0.753-0.162,1.194v8.216h-4.899c0,0,0.066-13.349,0-14.731h4.899v2.088c-0.01,0.016-0.023,0.032-0.033,0.048 h0.033V11.69c0.65-1.002,1.812-2.435,4.414-2.435C23.008,9.254,25.424,11.361,25.424,15.887z M5.348,2.501 c-1.676,0-2.772,1.092-2.772,2.539c0,1.421,1.066,2.538,2.717,2.546h0.032c1.709,0,2.771-1.132,2.771-2.546 C8.054,3.593,7.019,2.501,5.343,2.501H5.348z M2.867,24.334h4.897V9.603H2.867V24.334z"/>
                  </svg>
              </span>
              <span class="text">LinkedIn</span>
          </a>
      </li>
      <li class="tumblr">
					<script>
						document.write('<a href="http://www.tumblr.com/share?v=3&amp;u=' + encodeURIComponent('https:\/\/www.markhneedham.com\/blog\/2021\/04\/17\/england-covid-vaccination-rates-the-data\/') + '&amp;t=Vaccinating England: The Data (cleanup)" class="popup">');
					</script>
              <span class="icon">
                  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
											<path d="M18.02 21.842c-2.029 0.052-2.422-1.396-2.439-2.446v-7.294h4.729V7.874h-4.71V1.592c0 0-3.653 0-3.714 0 s-0.167 0.053-0.182 0.186c-0.218 1.935-1.144 5.33-4.988 6.688v3.637h2.927v7.677c0 2.8 1.7 6.7 7.3 6.6 c1.863-0.03 3.934-0.795 4.392-1.453l-1.22-3.539C19.595 21.6 18.7 21.8 18 21.842z"/>
									</svg>
              </span>
              <span class="text">Tumblr</span>
          <script>document.write('</a>');</script>
      </li>
      <li class="reddit">
          <a href="http://www.reddit.com/submit?url=https://www.markhneedham.com/blog/2021/04/17/england-covid-vaccination-rates-the-data/">
              <span class="icon">
                  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
											<g>
													<path d="M11.794 15.316c0-1.029-0.835-1.895-1.866-1.895c-1.03 0-1.893 0.865-1.893 1.895s0.863 1.9 1.9 1.9 C10.958 17.2 11.8 16.3 11.8 15.316z"/>
													<path d="M18.1 13.422c-1.029 0-1.895 0.864-1.895 1.895c0 1 0.9 1.9 1.9 1.865c1.031 0 1.869-0.836 1.869-1.865 C19.969 14.3 19.1 13.4 18.1 13.422z"/>
													<path d="M17.527 19.791c-0.678 0.678-1.826 1.006-3.514 1.006c-0.004 0-0.009 0-0.014 0c-0.004 0-0.01 0-0.015 0 c-1.686 0-2.834-0.328-3.51-1.005c-0.264-0.265-0.693-0.265-0.958 0c-0.264 0.265-0.264 0.7 0 1 c0.943 0.9 2.4 1.4 4.5 1.402c0.005 0 0 0 0 0c0.005 0 0 0 0 0c2.066 0 3.527-0.459 4.47-1.402 c0.265-0.264 0.265-0.693 0.002-0.958C18.221 19.5 17.8 19.5 17.5 19.791z"/>
													<path d="M27.707 13.267c0-1.785-1.453-3.237-3.236-3.237c-0.793 0-1.518 0.287-2.082 0.761c-2.039-1.295-4.646-2.069-7.438-2.219 l1.483-4.691l4.062 0.956c0.071 1.4 1.3 2.6 2.7 2.555c1.488 0 2.695-1.208 2.695-2.695C25.881 3.2 24.7 2 23.2 2 c-1.059 0-1.979 0.616-2.42 1.508l-4.633-1.091c-0.344-0.081-0.693 0.118-0.803 0.455l-1.793 5.7 C10.548 8.6 7.7 9.4 5.6 10.75C5.006 10.3 4.3 10 3.5 10.029c-1.785 0-3.237 1.452-3.237 3.2 c0 1.1 0.6 2.1 1.4 2.69c-0.04 0.272-0.061 0.551-0.061 0.831c0 2.3 1.3 4.4 3.7 5.9 c2.299 1.5 5.3 2.3 8.6 2.325c3.228 0 6.271-0.825 8.571-2.325c2.387-1.56 3.7-3.66 3.7-5.917 c0-0.26-0.016-0.514-0.051-0.768C27.088 15.5 27.7 14.4 27.7 13.267z M23.186 3.355c0.74 0 1.3 0.6 1.3 1.3 c0 0.738-0.6 1.34-1.34 1.34s-1.342-0.602-1.342-1.34C21.844 4 22.4 3.4 23.2 3.355z M1.648 13.3 c0-1.038 0.844-1.882 1.882-1.882c0.31 0 0.6 0.1 0.9 0.209c-1.049 0.868-1.813 1.861-2.26 2.9 C1.832 14.2 1.6 13.8 1.6 13.267z M21.773 21.57c-2.082 1.357-4.863 2.105-7.831 2.105c-2.967 0-5.747-0.748-7.828-2.105 c-1.991-1.301-3.088-3-3.088-4.782c0-1.784 1.097-3.484 3.088-4.784c2.081-1.358 4.861-2.106 7.828-2.106 c2.967 0 5.7 0.7 7.8 2.106c1.99 1.3 3.1 3 3.1 4.784C24.859 18.6 23.8 20.3 21.8 21.57z M25.787 14.6 c-0.432-1.084-1.191-2.095-2.244-2.977c0.273-0.156 0.59-0.245 0.928-0.245c1.035 0 1.9 0.8 1.9 1.9 C26.354 13.8 26.1 14.3 25.8 14.605z"/>
											</g>
									</svg>
              </span>
              <span class="text">Reddit</span>
          </a>
      </li>
      <li class="googleplus">
          <a href="https://plus.google.com/share?url=https://www.markhneedham.com/blog/2021/04/17/england-covid-vaccination-rates-the-data/" class="popup">
              <span class="icon">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                      <g>
                          <path d="M14.703,15.854l-1.219-0.948c-0.372-0.308-0.88-0.715-0.88-1.459c0-0.748,0.508-1.223,0.95-1.663 c1.42-1.119,2.839-2.309,2.839-4.817c0-2.58-1.621-3.937-2.399-4.581h2.097l2.202-1.383h-6.67c-1.83,0-4.467,0.433-6.398,2.027 C3.768,4.287,3.059,6.018,3.059,7.576c0,2.634,2.022,5.328,5.604,5.328c0.339,0,0.71-0.033,1.083-0.068 c-0.167,0.408-0.336,0.748-0.336,1.324c0,1.04,0.551,1.685,1.011,2.297c-1.524,0.104-4.37,0.273-6.467,1.562 c-1.998,1.188-2.605,2.916-2.605,4.137c0,2.512,2.358,4.84,7.289,4.84c5.822,0,8.904-3.223,8.904-6.41 c0.008-2.327-1.359-3.489-2.829-4.731H14.703z M10.269,11.951c-2.912,0-4.231-3.765-4.231-6.037c0-0.884,0.168-1.797,0.744-2.511 c0.543-0.679,1.489-1.12,2.372-1.12c2.807,0,4.256,3.798,4.256,6.242c0,0.612-0.067,1.694-0.845,2.478 c-0.537,0.55-1.438,0.948-2.295,0.951V11.951z M10.302,25.609c-3.621,0-5.957-1.732-5.957-4.142c0-2.408,2.165-3.223,2.911-3.492 c1.421-0.479,3.25-0.545,3.555-0.545c0.338,0,0.52,0,0.766,0.034c2.574,1.838,3.706,2.757,3.706,4.479 c-0.002,2.073-1.736,3.665-4.982,3.649L10.302,25.609z"/>
                          <polygon points="23.254,11.89 23.254,8.521 21.569,8.521 21.569,11.89 18.202,11.89 18.202,13.604 21.569,13.604 21.569,17.004 23.254,17.004 23.254,13.604 26.653,13.604 26.653,11.89"/>
                      </g>
                  </svg>
              </span>
              <span class="text">Google+</span>
          </a>
      </li>
      <li class="pinterest">
          <script>
						var imgurl = "https:\/\/www.markhneedham.com\/blog\/logo.png";
						var firstimg = document.getElementsByClassName("2021")[0].getElementsByTagName("img")[0];
						if (firstimg !== undefined) {
							imgurl = firstimg.src;
						}
						document.write('<a href="http://pinterest.com/pin/create/button/?url=https:\/\/www.markhneedham.com\/blog\/2021\/04\/17\/england-covid-vaccination-rates-the-data\/&amp;media=' + imgurl + '&amp;description=Vaccinating England: The Data (cleanup)" class="popup">');
					</script>
              <span class="icon">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
		                  <path d="M14.021,1.57C6.96,1.57,1.236,7.293,1.236,14.355c0,7.062,5.724,12.785,12.785,12.785c7.061,0,12.785-5.725,12.785-12.785 C26.807,7.294,21.082,1.57,14.021,1.57z M15.261,18.655c-1.161-0.09-1.649-0.666-2.559-1.219c-0.501,2.626-1.113,5.145-2.925,6.458 c-0.559-3.971,0.822-6.951,1.462-10.116c-1.093-1.84,0.132-5.545,2.438-4.632c2.837,1.123-2.458,6.842,1.099,7.557 c3.711,0.744,5.227-6.439,2.925-8.775c-3.325-3.374-9.678-0.077-8.897,4.754c0.19,1.178,1.408,1.538,0.489,3.168 C7.165,15.378,6.53,13.7,6.611,11.462c0.131-3.662,3.291-6.227,6.46-6.582c4.007-0.448,7.771,1.474,8.29,5.239 c0.579,4.255-1.816,8.865-6.102,8.533L15.261,18.655z"/>
                  </svg>
              </span>
              <span class="text">Pinterest</span>
          <script>document.write('</a>');</script>
      </li>
      <li class="pocket">
          <a href="https://getpocket.com/save?url=https://www.markhneedham.com/blog/2021/04/17/england-covid-vaccination-rates-the-data/"  class="popup">
              <span class="icon">
                  <svg width="32px" height="28px" viewBox="0 0 32 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                      <path d="M28.7817528,0.00172488695 C30.8117487,0.00431221738 31.9749312,1.12074529 31.9644402,3.10781507 C31.942147,6.67703739 32.1336065,10.2669583 31.8057648,13.8090137 C30.7147076,25.5813672 17.2181194,31.8996281 7.20714461,25.3808491 C2.71833574,22.4571656 0.196577202,18.3122624 0.0549495772,12.9357897 C-0.0342233715,9.5774348 0.00642900214,6.21519891 0.0300336062,2.85555035 C0.0405245414,1.1129833 1.21157517,0.0146615391 3.01995012,0.00819321302 C7.34746087,-0.00603710433 11.6775944,0.00431221738 16.0064164,0.00172488695 C20.2644248,0.00172488695 24.5237444,-0.00215610869 28.7817528,0.00172488695 L28.7817528,0.00172488695 Z M8.64885184,7.85611511 C7.38773662,7.99113854 6.66148108,8.42606978 6.29310958,9.33228474 C5.90114134,10.2969233 6.17774769,11.1421181 6.89875951,11.8276216 C9.35282156,14.161969 11.8108164,16.4924215 14.2976518,18.7943114 C15.3844131,19.7966007 16.5354102,19.7836177 17.6116843,18.7813283 C20.0185529,16.5495467 22.4070683,14.2982907 24.7824746,12.0327533 C25.9845979,10.8850542 26.1012707,9.56468083 25.1469132,8.60653379 C24.1361858,7.59255976 22.8449191,7.6743528 21.5890476,8.85191291 C19.9936451,10.3488554 18.3680912,11.8172352 16.8395462,13.3777945 C16.1342655,14.093159 15.7200114,14.0048744 15.0566806,13.3440386 C13.4599671,11.7484252 11.8081945,10.2060421 10.1262706,8.70001155 C9.65564653,8.27936164 9.00411403,8.05345704 8.64885184,7.85611511 L8.64885184,7.85611511 L8.64885184,7.85611511 Z"></path>
                  </svg>
              </span>
              <span class="text">Pocket</span>
          </a>
      </li>
  </ul>
</div>

    <div itemprop="author" itemscope itemtype="http://schema.org/Person">
  <h5>About the author</h5>
  <section>
    <p><a href="https://twitter.com/markhneedham" itemprop="name" rel="author">I'm</a> currently working on real-time user-facing analytics with <a href="https://pinot.apache.org/">Apache Pinot</a> at <a href="https://www.startree.ai/">StarTree</a>. I publish short 5 minute videos showing how to solve data problems on YouTube <a href="https://www.youtube.com/@LearnDataWithMark">@LearnDataWithMark</a>. I previously worked on graph analytics at <a href="https://neo4j.com/">Neo4j</a>, where I also I co-authored the <a href="https://neo4j.com/graph-algorithms-book">O'Reilly Graph Algorithms Book</a> with Amy Hodler.</p>
  </section>
</div>

    <div id="comments">
    
    
    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'markhneedham';
      var disqus_identifier = 'https:\/\/www.markhneedham.com\/blog\/2021\/04\/17\/england-covid-vaccination-rates-the-data\/';
      var disqus_title = 'Vaccinating England: The Data (cleanup)';
      var disqus_url = 'https:\/\/www.markhneedham.com\/blog\/2021\/04\/17\/england-covid-vaccination-rates-the-data\/';
      (function() {
        if (window.location.hostname == "localhost")
                return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
    
</div>

</article>

</main>

  <footer id="footer">
			<section id="footer-message">&copy; Mark Needham. All rights reserved. Powered by <a href="http://gohugo.io" target="_blank">Hugo</a>. <a href="https://github.com/kathyqian/crisp-ghost-theme" target="_blank">Crisp</a> theme by <a href="http://kathyqian.com" target="_blank">Kathy Qian</a>.</section>
		</footer>

    <script>
      (function(c,f){asyncLoader=function(i,h){i.foreach(function(k,j){e(j,d(j),h)});if(typeof h.callback=="function"){var g=setInterval(function(){if(f.readyState==="complete"){clearInterval(g);h.callback()}},10)}};var d=function(g){var h=g.split(".");return h[h.length-1]},e=function(h,i,g){switch(i){case"js":a(h,g);break;case"css":b(h);break;default:break}},a=function(i,h){var g=document.createElement("script");g.type="text/javascript";g.async=true;g.src=i;document.getElementsByTagName("head")[0].appendChild(g)},b=function(g){var h=document.createElement("link");h.type="text/css";h.rel="stylesheet";h.href=g;document.getElementsByTagName("head")[0].appendChild(h)};Array.prototype.foreach=function(h){for(var g=0;g<this.length;g++){h(g,this[g])}}})(this,document);

      var WebFontConfig={google:{families:["Open Sans:300italic,700italic,300,700","Bree+Serif"]}};
      asyncLoader([
        "//netdna.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.css",
        "//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js",
        "//cdnjs.cloudflare.com/ajax/libs/webfont/1.5.16/webfontloader.js",
        "//unpkg.com/@highlightjs/cdn-assets@10.7.2/highlight.min.js"        
      ],{
        callback:function(){
          asyncLoader([
            "https:\/\/www.markhneedham.com\/blog\/css/rrssb.css",
            "https:\/\/www.markhneedham.com\/blog\/css/github-dark.css",
            "https:\/\/www.markhneedham.com\/blog\/js/image-zoom.js",
            "https:\/\/www.markhneedham.com\/blog\/js/gist.min.js",
            "https:\/\/www.markhneedham.com\/blog\/js/rrssb.min.js",
            "https://unpkg.com/highlightjs-cypher/dist/cypher.min.js",            
          ], { callback:function() {
              
              document.querySelectorAll('pre code').forEach((block) => {
                  hljs.highlightElement(block);                  
                  
                  var language = block.result.language;
                  if(language && language !== "text") {             
                    const originalCode = block.textContent.trim(); 
                    const labelAndButtonHTML = `
                      <span class="label-and-button">
                        <label class="label-right">${language.toUpperCase()}</label>
                        <i class="copy-button fa fa-copy"></i>
                      </span>
                    `;
                    block.insertAdjacentHTML("afterbegin", `<label class="label-right">${language.toUpperCase()} <i class="copy-button fa fa-copy"></i></label>`);

                    const button = block.querySelector('.copy-button');
                    button.addEventListener('click', (event) => {
                        var code = button.parentElement.textContent;
                        navigator.clipboard.writeText(originalCode).then(function() {
                          button.classList.remove('fa-copy');  // Remove the copy icon class
                          button.classList.add('fa-check', 'green-icon');  

                          setTimeout(function() {
                              button.classList.remove('fa-check', 'green-icon');  
                              button.classList.add('fa-copy');  
                          }, 2000);
                        }, function(err) {
                             
                            console.error('Could not copy code to clipboard: ', err);
                        });
                    });
                  }                  
              });
          }});
        }
      });
    </script>
	
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-KVLB7W6R20"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'G-KVLB7W6R20');
    </script>

    

    


  
	</body>
</html>

