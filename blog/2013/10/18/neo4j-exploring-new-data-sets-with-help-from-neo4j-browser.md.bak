+++
draft = false
date="2013-10-18 11:43:59"
title="Neo4j: Exploring new data sets with help from Neo4j browser"
tag=['neo4j']
category=['neo4j']
+++

<p>One of the things that I've found difficult when looking at a new  Neo4j database is working out the structure of the data it contains.</p>


<p>I'm used to relational databases where you can easily get a list of the table and the foreign keys that allow you to join them to each other.</p>


<div style="float:left; padding-right: 5px">
<img src="http://www.markhneedham.com/blog/wp-content/uploads/2013/10/2013-10-17_21-27-36.png" alt="2013 10 17 21 27 36" title="2013-10-17_21-27-36.png" border="0" width="226" height="400" />
</div>

<p>This has traditionally been difficult when using Neo4j but with the <a href="http://blog.neo4j.org/2013/10/neo4j-200-m06-introducing-neo4js-browser.html">release of the Neo4j browser</a> we can now easily get this type of overview by clicking on the Neo4j icon at the top left of the browser.</p>


<p>We'll see something similar to the image on the left which shows the structure of my football graph and we can now discover parts of the graph by clicking on the various labels, properties or relationships.</p>


<p>For example, if we click on the <cite>Month</cite> label the following query will be executed:</p>


<div align="center">
<img src="http://www.markhneedham.com/blog/wp-content/uploads/2013/10/2013-10-18_11-59-49.png" alt="2013 10 18 11 59 49" title="2013-10-18_11-59-49.png" border="0" width="400" height="187" />
</div>

<p>&nbsp;</p>


<p>That query actually returns all the months in the database since there are only 12 in total, but for other queries we'd get back a subset of the nodes/relationships with that structure.</p>


<p>To explore the structure around the months we might explore which relationships it has by running a query like this:</p>


<div align="center">
<img src="http://www.markhneedham.com/blog/wp-content/uploads/2013/10/2013-10-18_12-18-54.png" alt="2013 10 18 12 18 54" title="2013-10-18_12-18-54.png" border="0" width="600" height="306" />
</div>

<p>From running this query we learn that there is a <cite>in_month</cite> relationship connecting matches to the month that they were played in.</p>


<p>Another useful exploration mechanism is the <cite><a href="http://docs.neo4j.org/chunked/milestone/query-match.html#match-all-shortest-paths">allShortestPaths</a></cite> function which will show us the path between two nodes if one exists. For example the following query would show us the path between Wayne Rooney and March:</p>


<div align="center">
<img src="http://www.markhneedham.com/blog/wp-content/uploads/2013/10/2013-10-18_12-27-12.png" alt="2013 10 18 12 27 12" title="2013-10-18_12-27-12.png" border="0" width="600" height="152" />
</div>

<p>The text is a bit small but the relationship between Rooney and a match is named <cite>played_in</cite> so  if we want to find which matches Rooney played in in March we could easily write that query.</p>


<p>Another neat feature of the browser is that we can save our queries as we go by clicking on the save button and optionally naming the query in a comment:</p>


<div align="center">
<img src="http://www.markhneedham.com/blog/wp-content/uploads/2013/10/2013-10-18_12-37-31.png" alt="2013 10 18 12 37 31" title="2013-10-18_12-37-31.png" border="0" width="600" height="86" />
</div>

<p>We can then access those queries and re-run them if we want via the star tab on the left hand side:</p>


<div align="center">
<img src="http://www.markhneedham.com/blog/wp-content/uploads/2013/10/2013-10-18_12-34-06.png" alt="2013 10 18 12 34 06" title="2013-10-18_12-34-06.png" border="0" width="600" height="173" />
</div>

<p>You can get a hold of the browser by downloading milestone 2.0.0-M06 about half way down the <a href="http://www.neo4j.org/download">download page</a> or if you want to hack on the browser it's on <a href="https://github.com/neo4j/neo4j-browser">github</a>.</p>

