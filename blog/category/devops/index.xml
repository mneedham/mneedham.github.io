<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>DevOps on Mark Needham</title>
    <link>https://markhneedham.com/blog/category/devops/</link>
    <description>Recent content in DevOps on Mark Needham</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 27 Apr 2013 14:22:10 +0000</lastBuildDate>
    
	<atom:link href="https://markhneedham.com/blog/category/devops/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Treat servers as cattle: Spin them up, tear them down</title>
      <link>https://markhneedham.com/blog/2013/04/27/treat-servers-as-cattle-spin-them-up-tear-them-down/</link>
      <pubDate>Sat, 27 Apr 2013 14:22:10 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2013/04/27/treat-servers-as-cattle-spin-them-up-tear-them-down/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Puppet: Package Versions - To pin or not to pin</title>
      <link>https://markhneedham.com/blog/2013/04/27/puppet-package-versions-to-pin-or-not-to-pin/</link>
      <pubDate>Sat, 27 Apr 2013 13:40:28 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2013/04/27/puppet-package-versions-to-pin-or-not-to-pin/</guid>
      <description>package { &amp;#39;nginx&amp;#39;: ensure =&amp;gt; &amp;#39;present&amp;#39;,}$ apt-cache policy nginx nginx: Installed: (none) Candidate: 1:1.2.6-1~43~precise1 Version table: 1:1.2.6-1~43~precise1 0 500 http://ppa.launchpad.net/brightbox/ruby-ng/ubuntu/ precise/main amd64 Packages 1.4.0-1~precise 0 500 http://nginx.org/packages/ubuntu/ precise/nginx amd64 Packages 1.1.19-1ubuntu0.1 0 500 http://us.archive.ubuntu.com/ubuntu/ precise-updates/universe amd64 Packages 1.1.19-1 0 500 http://us.archive.ubuntu.com/ubuntu/ precise/universe amd64 Packages $ dpkg --compare-versions &amp;#39;1:1.2.6-1~43~precise1&amp;#39; gt &amp;#39;1.4.0-1~precise&amp;#39; ; echo $? 0 package { &amp;#39;nginx&amp;#39;: ensure =&amp;gt; &amp;#39;1.</description>
    </item>
    
    <item>
      <title>Puppet: Installing Oracle Java - oracle-license-v1-1 license could not be presented</title>
      <link>https://markhneedham.com/blog/2013/04/18/puppet-installing-oracle-java-oracle-license-v1-1-license-could-not-be-presented/</link>
      <pubDate>Thu, 18 Apr 2013 23:36:32 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2013/04/18/puppet-installing-oracle-java-oracle-license-v1-1-license-could-not-be-presented/</guid>
      <description>class java($version) { package { &amp;#34;python-software-properties&amp;#34;: } exec { &amp;#34;add-apt-repository-oracle&amp;#34;: command =&amp;gt; &amp;#34;/usr/bin/add-apt-repository -y ppa:webupd8team/java&amp;#34;, notify =&amp;gt; Exec[&amp;#34;apt_update&amp;#34;] } package { &amp;#39;oracle-java7-installer&amp;#39;: ensure =&amp;gt; &amp;#34;${version}&amp;#34;, require =&amp;gt; [Exec[&amp;#39;add-apt-repository-oracle&amp;#39;]], } } node default { class { &amp;#39;java&amp;#39;: version =&amp;gt; &amp;#39;7u21-0~webupd8~0&amp;#39;, } } err: /Stage[main]/Java/Package[oracle-java7-installer]/ensure: change from purged to present failed: Execution of &amp;#39;/usr/bin/apt-get -q -y -o DPkg::Options::=--force-confold install oracle-java7-installer&amp;#39; returned 100: Reading package lists... Building dependency tree... Reading state information... The following extra packages will be installed: java-common Suggested packages: .</description>
    </item>
    
    <item>
      <title>dpkg/apt-cache: Useful commands</title>
      <link>https://markhneedham.com/blog/2013/04/18/dpkgapt-cache-useful-commands/</link>
      <pubDate>Thu, 18 Apr 2013 21:54:10 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2013/04/18/dpkgapt-cache-useful-commands/</guid>
      <description>$ apt-cache rdepends make make Reverse Depends: ... build-essential make:i386 libc6-dev:i386 open-vm-dkms mythbuntu-desktop broadcom-sta-source ... $ apt-cache policy nginx-common nginx-common: Installed: 1.1.19-1ubuntu0.1 Candidate: 1:1.2.6-1~43~precise1 Version table: 1:1.2.6-1~43~precise1 0 500 http://ppa.launchpad.net/brightbox/ruby-ng/ubuntu/ precise/main amd64 Packages *** 1.1.19-1ubuntu0.1 0 500 http://us.archive.ubuntu.com/ubuntu/ precise-updates/universe amd64 Packages 100 /var/lib/dpkg/status 1.1.19-1 0 500 http://us.archive.ubuntu.com/ubuntu/ precise/universe amd64 Packages $ apt-cache madison nginx-common nginx-common | 1:1.2.6-1~43~precise1 | http://ppa.launchpad.net/brightbox/ruby-ng/ubuntu/ precise/main amd64 Packages nginx-common | 1.1.19-1ubuntu0.1 | http://us.archive.ubuntu.com/ubuntu/ precise-updates/universe amd64 Packages nginx-common | 1.</description>
    </item>
    
    <item>
      <title>Puppet Debt</title>
      <link>https://markhneedham.com/blog/2013/04/16/puppet-debt/</link>
      <pubDate>Tue, 16 Apr 2013 20:57:53 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2013/04/16/puppet-debt/</guid>
      <description>[2013-04-12 07:03:10] Notice: /Stage[main]/Java/Exec[install OAB repo]/returns: [x] Installing Java build requirements Ofailed [2013-04-12 07:03:10] Notice: /Stage[main]/Java/Exec[install OAB repo]/returns: ^[[m^O [i] Showing the last 5 lines from the logfile (/root/oab-java.sh.log)... [2013-04-12 07:03:10] Notice: /Stage[main]/Java/Exec[install OAB repo]/returns: nginx-common [2013-04-12 07:03:10] Notice: /Stage[main]/Java/Exec[install OAB repo]/returns: nginx-extras [2013-04-12 07:03:10] Notice: /Stage[main]/Java/Exec[install OAB repo]/returns: E: Sub-process /usr/bin/dpkg returned an error code (1) ... [2013-04-12 07:03:10] Warning: /Stage[main]/Java/Package[sun-java6-jdk]: Skipping because of failed dependencies [2013-04-12 07:03:10] Notice: /Stage[main]/Java/Exec[default JVM]: Dependency Exec[install OAB repo] has failures: true [2013-04-12 07:03:10] Warning: /Stage[main]/Java/Exec[default JVM]: Skipping because of failed dependencies </description>
    </item>
    
    <item>
      <title>Capistrano: Host key verification failed. ** [err] fatal: The remote end hung up unexpectedly</title>
      <link>https://markhneedham.com/blog/2013/04/14/capistrano-host-key-verification-failed-err-fatal-the-remote-end-hung-up-unexpectedly/</link>
      <pubDate>Sun, 14 Apr 2013 18:18:32 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2013/04/14/capistrano-host-key-verification-failed-err-fatal-the-remote-end-hung-up-unexpectedly/</guid>
      <description>require &amp;#39;capistrano/ext/multistage&amp;#39; set :application, &amp;#34;thinkingingraphs&amp;#34; set :scm, :git set :repository, &amp;#34;git@bitbucket.org:markhneedham/thinkingingraphs.git&amp;#34; set :scm_passphrase, &amp;#34;&amp;#34; set :ssh_options, {:forward_agent =&amp;gt; true, :paranoid =&amp;gt; false, keys: [&amp;#39;~/.vagrant.d/insecure_private_key&amp;#39;]} set :stages, [&amp;#34;vagrant&amp;#34;] set :default_stage, &amp;#34;vagrant&amp;#34; set :user, &amp;#34;vagrant&amp;#34; server &amp;#34;192.168.33.101&amp;#34;, :app, :web, :db, :primary =&amp;gt; true set :deploy_to, &amp;#34;/var/www/thinkingingraphs&amp;#34; * executing &amp;#34;git clone -q git@bitbucket.org:markhneedham/thinkingingraphs.git /var/www/thinkingingraphs/releases/20130414171523 &amp;amp;&amp;amp; cd /var/www/thinkingingraphs/releases/20130414171523 &amp;amp;&amp;amp; git checkout -q -b deploy 6dcbf945ef5b8a5d5d39784800f4a6b7731c7d8a &amp;amp;&amp;amp; (echo 6dcbf945ef5b8a5d5d39784800f4a6b7731c7d8a &amp;gt; /var/www/thinkingingraphs/releases/20130414171523/REVISION)&amp;#34; servers: [&amp;#34;192.168.33.101&amp;#34;] [192.168.33.101] executing command ** [192.</description>
    </item>
    
    <item>
      <title>Capistrano: Deploying to a Vagrant VM</title>
      <link>https://markhneedham.com/blog/2013/04/13/capistrano-deploying-to-a-vagrant-vm/</link>
      <pubDate>Sat, 13 Apr 2013 11:17:37 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2013/04/13/capistrano-deploying-to-a-vagrant-vm/</guid>
      <description># -*- mode: ruby -*- # vi: set ft=ruby : Vagrant::Config.run do |config| config.vm.box = &amp;#34;precise64&amp;#34; config.vm.define :neo01 do |neo| neo.vm.network :hostonly, &amp;#34;192.168.33.101&amp;#34; neo.vm.host_name = &amp;#39;neo01.local&amp;#39; neo.vm.forward_port 7474, 57474 neo.vm.forward_port 80, 50080 end config.vm.box_url = &amp;#34;http://files.vagrantup.com/precise64.box&amp;#34; config.vm.provision :puppet do |puppet| puppet.manifests_path = &amp;#34;puppet/manifests&amp;#34; puppet.manifest_file = &amp;#34;site.pp&amp;#34; puppet.module_path = &amp;#34;puppet/modules&amp;#34; end end require &amp;#39;capistrano/ext/multistage&amp;#39; set :application, &amp;#34;thinkingingraphs&amp;#34; set :scm, :git set :repository, &amp;#34;git@bitbucket.org:markhneedham/thinkingingraphs.git&amp;#34; set :scm_passphrase, &amp;#34;&amp;#34; set :ssh_options, {:forward_agent =&amp;gt; true} set :default_run_options, {:pty =&amp;gt; true} set :stages, [&amp;#34;vagrant&amp;#34;] set :default_stage, &amp;#34;vagrant&amp;#34; set :user, &amp;#34;vagrant&amp;#34; server &amp;#34;192.</description>
    </item>
    
    <item>
      <title>Treating servers as cattle, not as pets</title>
      <link>https://markhneedham.com/blog/2013/04/07/treating-servers-as-cattle-not-as-pets/</link>
      <pubDate>Sun, 07 Apr 2013 11:41:34 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2013/04/07/treating-servers-as-cattle-not-as-pets/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Incrementally rolling out machines with a new puppet role</title>
      <link>https://markhneedham.com/blog/2013/03/24/incrementally-rolling-out-machines-with-a-new-puppet-role/</link>
      <pubDate>Sun, 24 Mar 2013 22:52:19 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2013/03/24/incrementally-rolling-out-machines-with-a-new-puppet-role/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Understanding what lsof socket/port aliases refer to</title>
      <link>https://markhneedham.com/blog/2013/03/17/understanding-what-lsof-socketport-aliases-refer-to/</link>
      <pubDate>Sun, 17 Mar 2013 14:00:35 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2013/03/17/understanding-what-lsof-socketport-aliases-refer-to/</guid>
      <description>$ lsof -ni | grep LISTEN idea 2398 markhneedham 58u IPv6 0xac8f13f77b903331 0t0 TCP *:49410 (LISTEN) idea 2398 markhneedham 65u IPv6 0xac8f13f7799a4af1 0t0 TCP *:58741 (LISTEN) idea 2398 markhneedham 122u IPv6 0xac8f13f7799a4711 0t0 TCP 127.0.0.1:6942 (LISTEN) idea 2398 markhneedham 249u IPv6 0xac8f13f777586711 0t0 TCP *:63342 (LISTEN) idea 2398 markhneedham 253u IPv6 0xac8f13f777586331 0t0 TCP 127.0.0.1:63342 (LISTEN) java 16973 markhneedham 152u IPv6 0xac8f13f777586af1 0t0 TCP *:56471 (LISTEN) java 16973 markhneedham 154u IPv6 0xac8f13f779e6b711 0t0 TCP *:menandmice-dns (LISTEN) java 16973 markhneedham 168u IPv6 0xac8f13f77b902f51 0t0 TCP 127.</description>
    </item>
    
    <item>
      <title>telnet/netcat: Waiting for a port to be open</title>
      <link>https://markhneedham.com/blog/2013/01/20/waiting-for-a-port-to-be-open/</link>
      <pubDate>Sun, 20 Jan 2013 15:53:02 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2013/01/20/waiting-for-a-port-to-be-open/</guid>
      <description>$ telnet 10.0.0.1 8081 Trying 10.0.0.1... telnet: connect to address 10.0.0.1: Operation timed out telnet: Unable to connect to remote host $ nc -v -w 1 10.0.0.1 8081 nc: connect to 10.0.0.1 port 8081 (tcp) failed: Connection refused $ watch &amp;#34;nc -v -w 1 10.0.0.1 8081&amp;#34; Every 2.0s: nc -v -w 1 10.0.0.1 8081 Sun Jan 20 15:48:05 2013 nc: connect to 10.0.0.1 port 8081 (tcp) timed out: Operation now in progress Every 2.</description>
    </item>
    
    <item>
      <title>Fabric/Boto: boto.exception.NoAuthHandlerFound: No handler was ready to authenticate. 1 handlers were checked. [&#39;QuerySignatureV2AuthHandler&#39;] Check your credentials</title>
      <link>https://markhneedham.com/blog/2013/01/15/fabricboto-boto-exception-noauthhandlerfound-no-handler-was-ready-to-authenticate-1-handlers-were-checked-querysignaturev2authhandler-check-your-credentials/</link>
      <pubDate>Tue, 15 Jan 2013 00:37:01 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2013/01/15/fabricboto-boto-exception-noauthhandlerfound-no-handler-was-ready-to-authenticate-1-handlers-were-checked-querysignaturev2authhandler-check-your-credentials/</guid>
      <description>File &amp;#34;/Library/Python/2.7/site-packages/fabric/main.py&amp;#34;, line 717, in main *args, **kwargs File &amp;#34;/Library/Python/2.7/site-packages/fabric/tasks.py&amp;#34;, line 332, in execute results[&amp;#39;&amp;lt;local-only&amp;gt;&amp;#39;] = task.run(*args, **new_kwargs) File &amp;#34;/Library/Python/2.7/site-packages/fabric/tasks.py&amp;#34;, line 112, in run return self.wrapped(*args, **kwargs) File &amp;#34;/Users/mark/projects/forward-puppet/ec2.py&amp;#34;, line 131, in running instances = instances_by_zones(running_instances(region, role_name)) File &amp;#34;/Users/mark/projects/forward-puppet/ec2.py&amp;#34;, line 19, in running_instances ec2conn = ec2.connect_to_region(region) File &amp;#34;/Library/Python/2.7/site-packages/boto/ec2/__init__.py&amp;#34;, line 57, in connect_to_region for region in regions(**kw_params): File &amp;#34;/Library/Python/2.7/site-packages/boto/ec2/__init__.py&amp;#34;, line 39, in regions c = EC2Connection(**kw_params) File &amp;#34;/Library/Python/2.7/site-packages/boto/ec2/connection.py&amp;#34;, line 94, in __init__ validate_certs=validate_certs) File &amp;#34;/Library/Python/2.</description>
    </item>
    
    <item>
      <title>Fabric: Tailing log files on multiple machines</title>
      <link>https://markhneedham.com/blog/2013/01/15/fabric-tailing-log-files-on-multiple-machines/</link>
      <pubDate>Tue, 15 Jan 2013 00:20:49 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2013/01/15/fabric-tailing-log-files-on-multiple-machines/</guid>
      <description>fab -H host1,host2,host3 -- tail -f /var/www/awesome/current/log/production.log fab -P --linewise -H host1,host2,host3 -- tail -f /var/www/awesome/current/log/production.log </description>
    </item>
    
    <item>
      <title>The Tracer Bullet Approach: An example</title>
      <link>https://markhneedham.com/blog/2012/12/24/the-tracer-bullet-approach-an-example/</link>
      <pubDate>Mon, 24 Dec 2012 09:09:44 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2012/12/24/the-tracer-bullet-approach-an-example/</guid>
      <description></description>
    </item>
    
    <item>
      <title>There&#39;s No such thing as a &#39;DevOps Team&#39;: Some thoughts</title>
      <link>https://markhneedham.com/blog/2012/11/30/theres-no-such-thing-as-a-devops-team-some-thoughts/</link>
      <pubDate>Fri, 30 Nov 2012 16:56:16 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2012/11/30/theres-no-such-thing-as-a-devops-team-some-thoughts/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Web Operations: Feature flags to turn off failing parts of infrastructure</title>
      <link>https://markhneedham.com/blog/2012/11/13/web-operations-feature-flags-to-turn-off-failing-parts-of-infrastructure/</link>
      <pubDate>Tue, 13 Nov 2012 12:19:30 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2012/11/13/web-operations-feature-flags-to-turn-off-failing-parts-of-infrastructure/</guid>
      <description>On most of the projects I&amp;rsquo;ve worked on over the last couple of years we&amp;rsquo;ve made use of feature togglesthat we used to turn pending features on and off while they were still being built but while reading Web OperationsI came across another usage.
In the chapter titled &amp;lsquo;Dev and Ops Collaboration and Cooperation&amp;rsquo; Paul Hammondsuggests the following:
We&amp;rsquo;d mainly use this approach to disable peripheral functionality such as the ability to comment on a site whose main purpose is to deliver news.</description>
    </item>
    
    <item>
      <title>Configuration in DNS</title>
      <link>https://markhneedham.com/blog/2012/10/24/configuration-in-dns/</link>
      <pubDate>Wed, 24 Oct 2012 17:40:49 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2012/10/24/configuration-in-dns/</guid>
      <description>In the latest version of the ThoughtWorks Technology Radarone of the areas covered is &amp;lsquo;configuration in DNS&amp;rsquo;, a term which I first came across earlier in the year from a mailing list post by my former colleague Daniel Worthington-Bodart.
The radar describes it like so:
As I alluded to in my post about creating environment agnostic machinesone of the techniques that we&amp;rsquo;ve used to achieve this is configuration in DNS, whereby we use fully qualified domain names (FQDN) for services in our configuration files and have DNS resolve them.</description>
    </item>
    
    <item>
      <title>Environment agnostic machines and applications</title>
      <link>https://markhneedham.com/blog/2012/10/14/environment-agnostic-machines-and-applications/</link>
      <pubDate>Sun, 14 Oct 2012 18:49:02 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2012/10/14/environment-agnostic-machines-and-applications/</guid>
      <description>On my current project we&amp;rsquo;ve been setting up production and staging environments and Shodhancame up with the idea of making staging and production identical to the point that a machine wouldn&amp;rsquo;t even know what environment it was in.
Identical in this sense means:
The only thing that differs is that the external IPs to access machines differ and therefore the NATed address that they display to the world when making any outgoing requests is also different.</description>
    </item>
    
    <item>
      <title>Chef, Fedora and &#39;ArgumentError: Attribute domain is not defined!&#39;</title>
      <link>https://markhneedham.com/blog/2011/06/18/chef-fedora-and-argumenterror-attribute-domain-is-not-defined/</link>
      <pubDate>Sat, 18 Jun 2011 18:45:29 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2011/06/18/chef-fedora-and-argumenterror-attribute-domain-is-not-defined/</guid>
      <description>I&amp;rsquo;ve been playing around with Chef Soloon Fedora and executing the following:
sudo chef-solo -c config/solo.rb -j config/node.json (where node.jsonjust contains the example code from the resolver example on the Chef documentation pageand the cookbooks folder contains all the opscode cookbooks.)
leads to the following error:
... ERROR: Running exception handlers ERROR: Exception handlers complete FATAL: Stacktrace dumped to /home/mark/chef-solo/chef-stacktrace.out FATAL: ArgumentError: Attribute domain is not defined! A bit of googling led me to believe that this error is happening because the machine doesn&amp;rsquo;t have a fully qualified domain name (fqdn) definedwhich can be seen by calling the following command:</description>
    </item>
    
    <item>
      <title>Database configuration: Just like any other change</title>
      <link>https://markhneedham.com/blog/2010/08/18/database-configuration-just-like-any-other-change/</link>
      <pubDate>Wed, 18 Aug 2010 10:07:42 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2010/08/18/database-configuration-just-like-any-other-change/</guid>
      <description>I&amp;rsquo;ve been flicking through Continuous Deploymentand one section early on about changing configuration information in our applications particularly caught my eye:
In many organisations where I&amp;rsquo;ve worked this is generally adhered to except when it comes to configuration which is controlled from the database!
If there was a change to be made to source code or configuration on the file system then the application would go through a series of regression tests (often manual) to ensure that the application would still work after the change.</description>
    </item>
    
    <item>
      <title>Can we always release to production incrementally?</title>
      <link>https://markhneedham.com/blog/2010/08/16/can-we-always-release-to-production-incrementally/</link>
      <pubDate>Mon, 16 Aug 2010 04:22:40 +0000</pubDate>
      
      <guid>https://markhneedham.com/blog/2010/08/16/can-we-always-release-to-production-incrementally/</guid>
      <description>Jez recently linkedto a post written by Timothy Fitz about a year ago where he talks about the way his team use continuous deliverywhich means that every change made to the code base goes into production immediately as long as it passes their test suite.
I&amp;rsquo;ve become fairly convinced recently that it should always be possible to deploy to production frequently but we recently came across a situation where it seemed like doing that wouldn&amp;rsquo;t make much sense.</description>
    </item>
    
  </channel>
</rss>